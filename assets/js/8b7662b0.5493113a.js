"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[5616],{28453:(t,e,s)=>{s.d(e,{R:()=>a,x:()=>p});var n=s(96540);const r={},i=n.createContext(r);function a(t){const e=n.useContext(i);return n.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function p(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:a(t.components),n.createElement(i.Provider,{value:e},t.children)}},46380:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>p,toc:()=>c});var n=s(74848),r=s(28453);const i={title:"Quick start with Http",description:"Quick start with http"},a=void 0,p={id:"quick-start/quick-start-http",title:"Quick start with Http",description:"Quick start with http",source:"@site/versioned_docs/version-2.4.0/quick-start/quick-start-http.md",sourceDirName:"quick-start",slug:"/quick-start/quick-start-http",permalink:"/docs/2.4.0/quick-start/quick-start-http",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.4.0/quick-start/quick-start-http.md",tags:[],version:"2.4.0",frontMatter:{title:"Quick start with Http",description:"Quick start with http"},sidebar:"tutorialSidebar",previous:{title:"Quick start with gRPC",permalink:"/docs/2.4.0/quick-start/quick-start-grpc"},next:{title:"Quick start with Motan",permalink:"/docs/2.4.0/quick-start/quick-start-motan"}},o={},c=[{value:"Environment to prepare",id:"environment-to-prepare",level:2},{value:"Run the shenyu-examples-http project",id:"run-the-shenyu-examples-http-project",level:2},{value:"Test",id:"test",level:2}];function h(t){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:["This document introduces how to quickly access the Apache ShenYu gateway using Http. You can get the code example of this document by clicking ",(0,n.jsx)(e.a,{href:"https://github.com/apache/incubator-shenyu/tree/v2.4.0/shenyu-examples/shenyu-examples-http",children:"here"}),"."]}),"\n",(0,n.jsx)(e.h2,{id:"environment-to-prepare",children:"Environment to prepare"}),"\n",(0,n.jsxs)(e.p,{children:["Please refer to the deployment to select a way to start shenyu-admin. For example, start the Apache ShenYu gateway management system through ",(0,n.jsx)(e.a,{href:"../deployment/deployment-local",children:"local deployment"})," ."]}),"\n",(0,n.jsxs)(e.p,{children:["After successful startup, you need to open the Divide plugin on in the BasicConfig ",(0,n.jsx)(e.code,{children:"->"})," Plugin. In the Apache ShenYu gateway, the HTTP request is handled by the Divide plugin."]}),"\n",(0,n.jsx)("img",{src:"/img/shenyu/quick-start/http/http_open_en.png",width:"60%",height:"50%"}),"\n",(0,n.jsx)(e.p,{children:"If you are a startup gateway by means of source, can be directly run the ShenyuBootstrapApplication of shenyu-bootstrap module."}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsx)(e.p,{children:"Note: Before starting, make sure the gateway has added dependencies."}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:["Add the following dependencies to the gateway's ",(0,n.jsx)(e.code,{children:"pom.xml"})," file:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-xml",children:"        \x3c!--if you use http proxy start this--\x3e\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-spring-boot-starter-plugin-divide</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-spring-boot-starter-plugin-httpclient</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,n.jsx)(e.h2,{id:"run-the-shenyu-examples-http-project",children:"Run the shenyu-examples-http project"}),"\n",(0,n.jsxs)(e.p,{children:["Download ",(0,n.jsx)(e.a,{href:"https://github.com/apache/incubator-shenyu/tree/v2.4.0/shenyu-examples/shenyu-examples-http",children:"shenyu-examples-http"})]}),"\n",(0,n.jsxs)(e.p,{children:["Execute the ",(0,n.jsx)(e.code,{children:"org.apache.shenyu.examples.http.ShenyuTestHttpApplication"})," main method to start project."]}),"\n",(0,n.jsx)(e.p,{children:"The following log appears when the startup is successful:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-shell",children:'2021-02-10 00:57:07.561  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/test/**","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/test/**","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.577  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/save","pathDesc":"Save order","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/save","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.587  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/path/**/name","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/path/**/name","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.596  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/findById","pathDesc":"Find by id","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/findById","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.606  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/path/**","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/path/**","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:08.023  INFO 3700 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8188\n2021-02-10 00:57:08.026  INFO 3700 --- [           main] o.d.s.e.http.ShenyuTestHttpApplication     : Started ShenyuTestHttpApplication in 2.555 seconds (JVM running for 3.411) \n'})}),"\n",(0,n.jsx)(e.h2,{id:"test",children:"Test"}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"shenyu-examples-http"})," project will automatically register interface methods annotated with ",(0,n.jsx)(e.code,{children:"@ShenyuSpringMvcClient"})," in the Apache ShenYu gateway after successful startup."]}),"\n",(0,n.jsx)(e.p,{children:"Open PluginList -> rpc proxy -> divide to see the list of plugin rule configurations:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:s(99697).A+"",width:"1688",height:"378"})}),"\n",(0,n.jsx)(e.p,{children:"Use PostMan to simulate HTTP to request your http service:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:s(52035).A+"",width:"1066",height:"494"})})]})}function l(t={}){const{wrapper:e}={...(0,r.R)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(h,{...t})}):h(t)}},52035:(t,e,s)=>{s.d(e,{A:()=>n});const n=s.p+"assets/images/postman-test-ffc28736280dc05a51162a4db2a0a7df.png"},99697:(t,e,s)=>{s.d(e,{A:()=>n});const n=s.p+"assets/images/rule-list-44d335cb7d35496ced765ebf3751ac55.png"}}]);