<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Apache ShenYu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Apache ShenYu Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache ShenYu" href="/zh/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/zh/news/rss.xml" title="Apache ShenYu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/news/atom.xml" title="Apache ShenYu Blog Atom Feed"><title data-react-helmet="true">2.6.0-release | Apache ShenYu</title><meta data-react-helmet="true" property="og:url" content="https://shenyu.apache.org//zh/event/2.6.0-release"><meta data-react-helmet="true" name="docsearch:language" content="zh"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-event-current"><meta data-react-helmet="true" property="og:title" content="2.6.0-release | Apache ShenYu"><meta data-react-helmet="true" name="description" content="2.6.0"><meta data-react-helmet="true" property="og:description" content="2.6.0"><link data-react-helmet="true" rel="shortcut icon" href="/zh/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://shenyu.apache.org//zh/event/2.6.0-release"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//event/2.6.0-release" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//zh/event/2.6.0-release" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//event/2.6.0-release" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh/assets/css/styles.6bd5fa92.css">
<link rel="preload" href="/zh/assets/js/runtime~main.ab156a68.js" as="script">
<link rel="preload" href="/zh/assets/js/main.601c5c52.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/logo.svg" alt="Apache ShenYu Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/zh/img/logo-light.svg" alt="Apache ShenYu Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/zh/download">下载</a><a class="navbar__item navbar__link" href="/zh/document">文档</a><a class="navbar__item navbar__link" href="/zh/community/contributor-guide">社区</a><a class="navbar__item navbar__link" href="/zh/team">团队</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/event">事件</a><a class="navbar__item navbar__link" href="/zh/news">新闻</a><a class="navbar__item navbar__link" href="/zh/blog">博客</a><a class="navbar__item navbar__link" href="/zh/users">用户</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div><a href="https://github.com/apache/shenyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg t="1631348384596" class="icon" viewBox="0 0 1024 1024" version="1.1" style="vertical-align:text-bottom;margin-right:5px" p-id="557" width="20" height="20"><path d="M547.797333 638.208l-104.405333-103.168 1.237333-1.28a720.170667 720.170667 0 0 0 152.490667-268.373333h120.448V183.082667h-287.744V100.906667H347.605333v82.218666H59.818667V265.386667h459.178666a648.234667 648.234667 0 0 1-130.304 219.946666 643.242667 643.242667 0 0 1-94.976-137.728H211.541333a722.048 722.048 0 0 0 122.453334 187.434667l-209.194667 206.378667 58.368 58.368 205.525333-205.525334 127.872 127.829334 31.232-83.84m231.424-208.426667h-82.218666l-184.96 493.312h82.218666l46.037334-123.306667h195.242666l46.464 123.306667h82.218667l-185.002667-493.312m-107.690666 287.744l66.56-178.005333 66.602666 178.005333z" fill="currentColor" p-id="558"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/event/2.6.0-release" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/zh/event/2.6.0-release" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">简体中文</a></li></ul></div><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_dC7a">2.6.0-release</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="260"></a>2.6.0<a class="hash-link" href="#260" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="新功能"></a>新功能<a class="hash-link" href="#新功能" title="Direct link to heading">#</a></h3><p>1.支持 shenyu-admin暴露<code>prometheus</code>指标
2.添加shenyu一级缓存和二级缓存
3.将扩展插件jar保存到shenyu admin
4.支持网关中的 Shenyu 上传插件热加载
5.支持apollo同步数据和注册数据
6.初始化客户信息收集
7.Shenyu客户端支持spring-boot-client自动配置
8.添加TCP代理插件
9.超级管理员强制更改密码
10.Spring-mvc(boot)客户端支持收集api-meta
11.添加zookeeper发现同步
12.初始化神宇入口控制器
13.添加发现上游和代理选择器代理
14.暴露shenyu执行器端点
15.添加naocs发现同步
16.添加apollo发现同步
17.添加HttpLongPolling发现同步
18.添加consul发现同步
19.添加华为云lts日志插件
20.Shenyu admin支持openGauss数据库
21.支持polaris配置同步和注册中心</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="api-变更"></a>API 变更<a class="hash-link" href="#api-变更" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="增强"></a>增强<a class="hash-link" href="#增强" title="Direct link to heading">#</a></h3><p>1.为<code>Shenyu api doc</code>客户端添加标签
2.添加brpc集成测试
3.Brpc支持共享线程池
4.将mapType添加到cryptor请求和响应插件中
5.Crypto插件支持多字段名称
6.添加p2c负载均衡器
7.将插件jar修改为插件数据中的Base64字符串
8.添加最短响应负载均衡器
9.添加哈希负载均衡器测试用例
10.添加DetailService测试用例
11.Shenyu容忍多个路径斜线
12.添加shenyu-common enums测试用例
13.添加shenyu-common dto测试用例
14.添加sheyu-admin模型测试用例
15.添加神鱼匹配缓存测试用例
16.支持k8s探针
17.添加 Shenyu-admin 服务测试用例
18.在api doc中添加文档json数据
19.mock插件中的SPEL默认是安全的
20.为ShenyuClientApiDocExecutorSubscriber添加测试用例
21.添加shenyu-client-sofa模块的测试用例
22.为shenyu api doc添加标签关系
23.支持windows下的shenyu admin、bootstrap服务停止脚本bat
24.为ShenyuSdkClientFactory添加测试用例
25.添加e2e-springcloud的websocket同步方法
26.支持divide插件离线激活
27.添加springcloud服务实例缓存
28.修改密码支持i18n
29.为shenyu discovery添加websocket同步
30.更新springboot到2.7.13
31.添加其他syn方法e2e-spring-cloud
32.添加api doc客户端生成的注解属性
33.更新zookeeper客户端注册存储库离线激活
34.更新apollo客户端注册存储库离线激活
35.swagger类型API文档存储调整，由本地缓存改为数据库
36.支持nacos客户端离线
37.添加e2e alibaba dubbo测试用例
38.添加e2e apache dubbo测试用例
39.添加shenyu-spring-sdk测试用例
40.添加e2e sofa测试用例
41.添加apollo配置同步测试用例
42.添加数据库连接池
43.为shenyu项目添加idea图标</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="重构"></a>重构<a class="hash-link" href="#重构" title="Direct link to heading">#</a></h3><p>1.优化sheyu-admin
2.重构最小活跃平衡算法
3、sign-plugin优化版本一
4.优化上游检查服务
5.解决shenyu项目全球版本
6.重构ShenyuConsulConfigWatch代码
7.重构sheyu trie代码
8.保存时检查规则的uri条件
9.优化 shenyu-client-websocket 的 shenyu-client 代码
10.添加管理员依赖Micrometer的许可证
11.更新maven-assemble-plugin到3.5.0
12.优化全局插件排序
13.在 shenyu-admin 中使用 BearerToken 替换 StatelessToken
14.重构sheyu-logging模块
15.添加api文档验证
16.优化Trie代码，完善通配符<code>*</code>支持
17.重构自定义插件支持热加载
18.重构ShenyuWebHandler putPlugin方法
19.重构shenyu webfilter
20.Reactor oauth2 插件
21.重构 Shenyu 选择器数据续字段
22.重构 Shenyu 选择器和规则缓存
23.删除了shenyu客户端中未使用的泛型
24.重构 shenyu-plugin-sentinel 插件
25.重构缓存并添加端点以公开缓存
26.重构checkUserPassword，启动时不打印已知错误日志
27.添加一些日志参数
28.重构 Shenyu 全局异常处理程序
29.添加shenyu上传插件集成测试用例
30.优化一些语法糖
31.更改discovery_upstream discovery_handler_id
32.重构 Shenyu 全局异常处理程序
33.重构sheyu插件模块
34.重构AlibabaDubboConfigCache
35.删除hutool的依赖
36.重构ShenyuClientShutdownHook
37.提取器添加BaseAnnotationApiBeansExtractor
38.支持多客户端注册
39.重构 Shenyu-e2e 支持 Shenyu 检查样式
40.重构神宇客户端注册库
41.为 shenyu div 插件添加域测试
42.更新同一服务的其他rpc_ext
43.优化consul connect操作
44.重构sheyu e2e springcloud yaml更改
45.添加k8s ingress控制器集成测试
46.拆分apidoc明细接口的document字段，增加requestHeaders、responseParameters等字段
47.添加swagger示例项目，测试API文档的相关功能
48.优化json格式表单字段的显示
49.重构shenyu日志可观测性
50.添加bootstrap启动日志
51.重构swagger的api文档
52.升级grpc版本至1.53.0
53.重构api元数据处理函数
54.优化代码和pom</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="错误修复"></a>错误修复<a class="hash-link" href="#错误修复" title="Direct link to heading">#</a></h3><p>1.h2路径校验
2.修复加密响应插件
3.修复jdk8 MapcomputeIfAbsent性能bug
4.修复zombieRemovalTimes代码
5.修复升级后的sql文件
6.删除detectorOfflineLinks标签
7.忽略扁平化的pom
8.修复LOG调用方法
9.使用nacos修复sheyu-example-springcloud的NPE
10.修复 Shenyu-admin名称的类型争论
11.修复负载平衡spi资源
12.修复sql脚本错误
13.修复jackson的24小时格式和时区
14.修复JwtUtils错误
15.修复dubbo调用者缓存bug
16.修复丢失HOST删除操作
17.修复SpringMvcClientEventListener测试用例
18.修复zombie的通行证更新PENDING_SYNC
19.修复内存泄漏
20.修复因规则过多导致规则查询失败的问题
21.修复示例http中缺少执行器依赖项和端口错误
22.修复UpstreamCheckUtils http和https
23.修复FileFilter造成内存泄漏的问题
24.修复zookeeper同步错误
25.修复MemorySafeWindowTinyLFUMap内存泄漏错误
26.修复ApiDoc路径缺少分隔符的问题
27.修复 shenyu trie的NPE
28.修复插件跳过错误
29.修复oracle sql错误
30.修复shenyu admin中无法加载shenyu图标的问题
31.修复hystrix回退bug
32.修复divide和springcloud的预热时间
33.修复springcloud服务选择器
34.修复 shenyu-spring-boot-starter-plugin-mock添加spring.factories
35.修复 shenyu-client-mvc和shenyu-client-springcloud丢失ip
36.修复缓存中规则数据和选择器数据为空的问题
37.修复api文档模块更新api详情错误
38.修复从KafkaLogCollectClient中的配置获取主题
39.修复日志控制台线程安全
40.修复brpc集成测试响应大小
41.修复plugn-dubbo-common的选择器更新灰色删除缓存
42.修复shenyu管理菜单名称bug
43.修复shenyu admin无法配置consul端口的问题
44.修复shenyu客户端元数据和uri无法与apollo同步到admin的问题
45.修复PathVariable注解url无法匹配的问题
46.修复PathPattern模式下无法更新uri的问题
47.修复客户端关闭方法调用两次
48.修复 shenyu 错误处理 consul 配置
49.从Request、modifyResponse插件中删除未使用的配置
50.修复http注册元数据
51.修复websocket丢失用户自定义关闭状态的问题
52.修复consul寄存器在特殊符号时丢失元路径的属性
53.修复etcd同步错误
54.修复管理同步错误
55.修复 Shenyu motan插件执行错误</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/apache/shenyu-website/edit/main/i18n/zh/docusaurus-plugin-content-docs-event/current/2.6.0-release.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑本文档</a></div><div class="col lastUpdated_wj+Z">Last updated on <b><time datetime="2023-12-29T09:49:23.000Z">2023/12/29</time></b> by <b>NanMu</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#260" class="table-of-contents__link">2.6.0</a><ul><li><a href="#新功能" class="table-of-contents__link">新功能</a></li><li><a href="#api-变更" class="table-of-contents__link">API 变更</a></li><li><a href="#增强" class="table-of-contents__link">增强</a></li><li><a href="#重构" class="table-of-contents__link">重构</a></li><li><a href="#错误修复" class="table-of-contents__link">错误修复</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/zh/assets/js/runtime~main.ab156a68.js"></script>
<script src="/zh/assets/js/main.601c5c52.js"></script>
</body>
</html>