"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[26179],{3044(e,t,s){s.d(t,{A:()=>r});const r=s.p+"assets/images/rule-list-48c36ffede28b4e62bc36aa59baf44a6.png"},4189(e,t,s){s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"quick-start/quick-start-grpc","title":"Quick start with grpc","description":"Quick start with grpc","source":"@site/versioned_docs/version-2.3.0-Legacy/quick-start/quick-start-grpc.md","sourceDirName":"quick-start","slug":"/quick-start/quick-start-grpc","permalink":"/docs/2.3.0-Legacy/quick-start/quick-start-grpc","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.3.0-Legacy/quick-start/quick-start-grpc.md","tags":[],"version":"2.3.0-Legacy","frontMatter":{"title":"Quick start with grpc","description":"Quick start with grpc"},"sidebar":"tutorialSidebar","previous":{"title":"Quick start with Dubbo","permalink":"/docs/2.3.0-Legacy/quick-start/quick-start-dubbo"},"next":{"title":"Quick start with http","permalink":"/docs/2.3.0-Legacy/quick-start/quick-start-http"}}');var n=s(74848),c=s(28453);const i={title:"Quick start with grpc",description:"Quick start with grpc"},o=void 0,a={},l=[{value:"Environment to prepare",id:"environment-to-prepare",level:2},{value:"Run the soul-examples-grpc project",id:"run-the-soul-examples-grpc-project",level:2},{value:"Grpc plugin settings",id:"grpc-plugin-settings",level:2},{value:"Testing",id:"testing",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["This document introduces how to quickly access the Soul Gateway using Grpc. You can get the code example of this document by clicking ",(0,n.jsx)(t.a,{href:"https://github.com/dromara/soul/tree/2.3.0/soul-examples/soul-examples-grpc",children:"here"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"environment-to-prepare",children:"Environment to prepare"}),"\n",(0,n.jsxs)(t.p,{children:["Please refer to the ",(0,n.jsx)(t.a,{href:"../users-guide/soul-set-up",children:"setup"})," and launch ",(0,n.jsx)(t.code,{children:"soul-admin"})," and ",(0,n.jsx)(t.code,{children:"soul-bootstrap"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Note: ",(0,n.jsx)(t.code,{children:"soul-bootstrap"})," need to import grpc dependencies"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.dromara</groupId>\n    <artifactId>soul-spring-boot-starter-plugin-grpc</artifactId>\n    <version>${project.version}</version>\n</dependency>\n"})}),"\n",(0,n.jsx)(t.h2,{id:"run-the-soul-examples-grpc-project",children:"Run the soul-examples-grpc project"}),"\n",(0,n.jsxs)(t.p,{children:["Download ",(0,n.jsx)(t.a,{href:"https://github.com/dromara/soul/tree/2.3.0/soul-examples/soul-examples-grpc",children:"soul-examples-grpc"})]}),"\n",(0,n.jsxs)(t.p,{children:["Run the following command under ",(0,n.jsx)(t.code,{children:"soul-examples-grpc"})," to generate Java code"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"mvn protobuf:compile \nmvn protobuf:compile-custom \n"})}),"\n",(0,n.jsxs)(t.p,{children:["Execute the ",(0,n.jsx)(t.code,{children:"org.dromara.soul.examples.grpc.SoulTestGrpcApplication"})," main method to start project."]}),"\n",(0,n.jsx)(t.p,{children:"The following log appears when the startup is successful:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:'2021-02-10 01:57:02.154  INFO 76 --- [           main] o.d.s.e.grpc.SoulTestGrpcApplication     : Started SoulTestGrpcApplication in 2.088 seconds (JVM running for 3.232)\n2021-02-10 01:57:02.380  INFO 76 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : grpc client register success: {"appName":"127.0.0.1:8080","contextPath":"/grpc","path":"/grpc/echo","pathDesc":"","rpcType":"grpc","serviceName":"echo.EchoService","methodName":"echo","ruleName":"/grpc/echo","parameterTypes":"echo.EchoRequest,io.grpc.stub.StreamObserver","rpcExt":"{\\"timeout\\":-1}","enabled":true} \n'})}),"\n",(0,n.jsx)(t.h2,{id:"grpc-plugin-settings",children:"Grpc plugin settings"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["enabled the ",(0,n.jsx)(t.code,{children:"grpc"})," plugin in the ",(0,n.jsx)(t.code,{children:"soul-admin"})," plugin management."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"testing",children:"Testing"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"soul-examples-grpc"})," project will automatically register interface methods annotated with ",(0,n.jsx)(t.code,{children:"@SoulGrpcClient"})," in the soul gateway after successful startup."]}),"\n",(0,n.jsx)(t.p,{children:"Open Plugin Management -> grpc to see the list of plugin rule configurations"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(3044).A+"",width:"1679",height:"296"})}),"\n",(0,n.jsx)(t.p,{children:"Use PostMan to simulate HTTP to request your Grpc service"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(19264).A+"",width:"1071",height:"520"})})]})}function u(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},19264(e,t,s){s.d(t,{A:()=>r});const r=s.p+"assets/images/postman-test-b5b6c0e96b73b282edc4afb328b01b10.png"},28453(e,t,s){s.d(t,{R:()=>i,x:()=>o});var r=s(96540);const n={},c=r.createContext(n);function i(e){const t=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(c.Provider,{value:t},e.children)}}}]);