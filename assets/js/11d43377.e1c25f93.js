"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[74113],{28453:(e,t,l)=>{l.d(t,{R:()=>r,x:()=>c});var n=l(96540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}},93620:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>c,toc:()=>x});var n=l(74848),s=l(28453);const i={title:"Client Property Config",keywords:["Config"],description:"Client Property Config"},r=void 0,c={id:"user-guide/property-config/client-property-config",title:"Client Property Config",description:"Client Property Config",source:"@site/versioned_docs/version-2.4.0/user-guide/property-config/client-property-config.md",sourceDirName:"user-guide/property-config",slug:"/user-guide/property-config/client-property-config",permalink:"/docs/2.4.0/user-guide/property-config/client-property-config",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.4.0/user-guide/property-config/client-property-config.md",tags:[],version:"2.4.0",frontMatter:{title:"Client Property Config",keywords:["Config"],description:"Client Property Config"},sidebar:"tutorialSidebar",previous:{title:"Admin Property Config",permalink:"/docs/2.4.0/user-guide/property-config/admin-property-config"},next:{title:"Gateway Property Config",permalink:"/docs/2.4.0/user-guide/property-config/gateway-property-config"}},d={},x=[{value:"Property Config",id:"property-config",level:3},{value:"Property Detail",id:"property-detail",level:3},{value:"shenyu.client config",id:"shenyuclient-config",level:4}];function h(e){const t={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"This paper mainly explains how to configure the properties of Apache ShenYu when the client accesses the gateway."}),"\n",(0,n.jsxs)(t.p,{children:["Set the ",(0,n.jsx)(t.code,{children:"shenyu"})," property in your microservice, for example, in ",(0,n.jsx)(t.a,{href:"https://github.com/apache/incubator-shenyu/tree/v2.4.0/shenyu-examples/shenyu-examples-http",children:"shenyu-examples-http"})," :"]}),"\n",(0,n.jsx)("img",{src:"/img/shenyu/config/shenyu_client_application_config.png",width:"80%",height:"70%"}),"\n",(0,n.jsx)(t.h3,{id:"property-config",children:"Property Config"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",children:"shenyu:\n  client:\n    registerType: http #zookeeper #etcd #nacos #consul\n    serverLists: http://localhost:9095 #localhost:2181 #http://localhost:2379 #localhost:8848\n    props:\n      contextPath: /http\n      appName: http\n      port: 8189\n      nacosNameSpace: ShenyuRegisterCenter\n\n"})}),"\n",(0,n.jsx)(t.h3,{id:"property-detail",children:"Property Detail"}),"\n",(0,n.jsx)(t.h4,{id:"shenyuclient-config",children:"shenyu.client config"}),"\n",(0,n.jsxs)(t.p,{children:["This section describes configurations related to client access. For details about client access principles, see: ",(0,n.jsx)(t.a,{href:"../../design/register-center-design",children:"Application Client Access"})," , for client access configuration, see: ",(0,n.jsx)(t.a,{href:"../register-center-access",children:"Application Client Access Config"})," ."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"registerType"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"http"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Which mode to use for registry. Currently, http, zookeeper, etcd, consul and nacos are supported."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"serverLists"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Configure the address of the registry. In clustering, multiple addresses are separated by commas (,)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"props"}),(0,n.jsx)(t.td,{style:{textAlign:"left"}}),(0,n.jsx)(t.td,{style:{textAlign:"center"}}),(0,n.jsx)(t.td,{style:{textAlign:"center"}}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The value of the property varies according to the registerType."})]})]})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"props"})," config"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"When microservices are built by different protocols, the property configuration is slightly different. The general attributes are as follows:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"contextPath"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The route prefix of the microservice in the gateway."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"appName"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["microservice name. ",(0,n.jsx)(t.code,{children:"springcloud"})," service don't set, please set ",(0,n.jsx)(t.code,{children:"spring.application.name"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"host"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"microservice address"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"port"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"microservice port"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"isFull"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"boolean"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Whether to proxy the all service, currently just applies to ",(0,n.jsx)(t.code,{children:"springmvc"}),"/ ",(0,n.jsx)(t.code,{children:"springcloud"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ipAndPort"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Service IP and port address, currently just applies to ",(0,n.jsx)(t.code,{children:"gRPC"})," Proxy."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"shutdownWaitTime"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"3000"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"shutdown wait time(millisecond)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"delayOtherHooksExecTime"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"2000"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,n.jsx)(t.code,{children:"hook"})," execute time(millisecond)"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"applicationShutdownHooksClassName"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:(0,n.jsx)(t.code,{children:"java.lang.ApplicationShutdownHooks"})}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,n.jsx)(t.code,{children:"hook"})," execute class name"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"applicationShutdownHooksFieldName"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:(0,n.jsx)(t.code,{children:"hooks"})}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,n.jsx)(t.code,{children:"hook"})," execute field name"]})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["The value of the property varies according to the ",(0,n.jsx)(t.code,{children:"registerType"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["When the registerType is ",(0,n.jsx)(t.code,{children:"nacos"}),", there has no other properties."]}),"\n",(0,n.jsxs)(t.p,{children:["When the registerType is ",(0,n.jsx)(t.code,{children:"zookeeper"}),", the supported properties are as follows."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"sessionTimeout"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"30000"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"session time out(millisecond)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"connectionTimeout"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"3000"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"connection time out(millisecond)"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["When the registerType is ",(0,n.jsx)(t.code,{children:"etcd"}),", the supported properties are as follows."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"etcdTimeout"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"30000"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"etcd time out(millisecond)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"etcdTTL"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"int"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"5"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"client lease time to live(second)"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["When the registerType is ",(0,n.jsx)(t.code,{children:"nacos"}),", the supported properties are as follows."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"nacosNameSpace"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"null"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"namespace"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"username"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"username"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"password"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"password"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"accessKey"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"accessKey"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"secretKey"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"secretKey"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["When the registerType is ",(0,n.jsx)(t.code,{children:"consul"}),", no other property configuration is provided. please set ",(0,n.jsx)(t.code,{children:"spring.cloud.consul"})," for the configuration."]})]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);