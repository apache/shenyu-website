"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[85497],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(96540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},39940:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var t=s(74848),i=s(28453);const r={sidebar_position:5,title:"Custom Response",keywords:["soul"],description:"customising response structure"},o=void 0,l={id:"developer-guide/custom-result",title:"Custom Response",description:"customising response structure",source:"@site/versioned_docs/version-2.3.0-Legacy/developer-guide/custom-result.md",sourceDirName:"developer-guide",slug:"/developer-guide/custom-result",permalink:"/docs/2.3.0-Legacy/developer-guide/custom-result",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.3.0-Legacy/developer-guide/custom-result.md",tags:[],version:"2.3.0-Legacy",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Custom Response",keywords:["soul"],description:"customising response structure"},sidebar:"tutorialSidebar",previous:{title:"Fetching Correct IP Address And Host",permalink:"/docs/2.3.0-Legacy/developer-guide/custom-parsing-ip-and-host"},next:{title:"Custom Sign Algorithm",permalink:"/docs/2.3.0-Legacy/developer-guide/custom-sign-algorithm"}},a={},c=[{value:"Description",id:"description",level:2},{value:"Default Implementation",id:"default-implementation",level:2},{value:"Extensions",id:"extensions",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This doc offers examples for customising response structure."}),"\n",(0,t.jsx)(n.li,{children:"The response body structure in gateways should be unified, it is recommended for specify yours."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"default-implementation",children:"Default Implementation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The default implementation class is ",(0,t.jsx)(n.code,{children:"org.dromara.soul.plugin.api.result.DefaultSoulResult"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Following is the response structure."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public class SoulDefaultEntity implements Serializable {\n\n    private static final long serialVersionUID = -2792556188993845048L;\n\n    private Integer code;\n\n    private String message;\n\n    private Object data;\n\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The returned json as follows:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "code": -100, //response code,\n    "message": "\u60a8\u7684\u53c2\u6570\u9519\u8bef,\u8bf7\u68c0\u67e5\u76f8\u5173\u6587\u6863!", //hint messages\n    "data": null  // business data\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['Declare a new class named "A" and implements ',(0,t.jsx)(n.code,{children:"org.dromara.soul.plugin.api.result.SoulResult"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:" public interface SoulResult<T> {\n \n     /**\n      * Success t.\n      *\n      * @param code    the code\n      * @param message the message\n      * @param object  the object\n      * @return the t\n      */\n     T success(int code, String message, Object object);\n\n     /**\n      * Error t.\n      *\n      * @param code    the code\n      * @param message the message\n      * @param object  the object\n      * @return the t\n      */\n     T error(int code, String message, Object object);\n }\n\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"T"})," is a generic parameter for your response data."]}),"\n",(0,t.jsx)(n.li,{children:"Register defined class as a Spring Bean."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"    @Bean\n    public SoulResult a() {\n          return new A();\n    }\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);