"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[56659],{9110:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>p,toc:()=>o});var n=s(74848),r=s(28453);const i={title:"Quick start with Http",description:"Quick start with http"},a=void 0,p={id:"quick-start/quick-start-http",title:"Quick start with Http",description:"Quick start with http",source:"@site/versioned_docs/version-2.7.0.3/quick-start/quick-start-http.md",sourceDirName:"quick-start",slug:"/quick-start/quick-start-http",permalink:"/docs/quick-start/quick-start-http",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.7.0.3/quick-start/quick-start-http.md",tags:[],version:"2.7.0.3",frontMatter:{title:"Quick start with Http",description:"Quick start with http"},sidebar:"tutorialSidebar",previous:{title:"Quick start with gRPC",permalink:"/docs/quick-start/quick-start-grpc"},next:{title:"Quick start with Mcp Server",permalink:"/docs/quick-start/quick-start-mcpServer"}},c={},o=[{value:"Environment to prepare",id:"environment-to-prepare",level:2},{value:"Run the shenyu-examples-http project",id:"run-the-shenyu-examples-http-project",level:2},{value:"Test",id:"test",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["This document introduces how to quickly access the Apache ShenYu gateway using Http. You can get the code example of this document by clicking ",(0,n.jsx)(t.a,{href:"https://github.com/apache/shenyu/tree/master/shenyu-examples/shenyu-examples-http",children:"here"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"environment-to-prepare",children:"Environment to prepare"}),"\n",(0,n.jsxs)(t.p,{children:["Please refer to the deployment to select a way to start shenyu-admin. For example, start the Apache ShenYu gateway management system through ",(0,n.jsx)(t.a,{href:"../deployment/deployment-local",children:"local deployment"})," ."]}),"\n",(0,n.jsxs)(t.p,{children:["After successful startup, you need to open the Divide plugin on in the BasicConfig ",(0,n.jsx)(t.code,{children:"->"})," Plugin. In the Apache ShenYu gateway, the HTTP request is handled by the Divide plugin."]}),"\n",(0,n.jsx)("img",{src:"/img/shenyu/quick-start/http/http_open_en.png",width:"60%",height:"50%"}),"\n",(0,n.jsx)(t.p,{children:"If you are a startup gateway by means of source, can be directly run the ShenyuBootstrapApplication of shenyu-bootstrap module."}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"Note: Before starting, make sure the gateway has added dependencies."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Add the following dependencies to the gateway's ",(0,n.jsx)(t.code,{children:"pom.xml"})," file:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:"        \x3c!--if you use http proxy start this--\x3e\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-spring-boot-starter-plugin-divide</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-spring-boot-starter-plugin-httpclient</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,n.jsx)(t.h2,{id:"run-the-shenyu-examples-http-project",children:"Run the shenyu-examples-http project"}),"\n",(0,n.jsxs)(t.p,{children:["Download ",(0,n.jsx)(t.a,{href:"https://github.com/apache/shenyu/tree/master/shenyu-examples/shenyu-examples-http",children:"shenyu-examples-http"})]}),"\n",(0,n.jsxs)(t.p,{children:["Execute the ",(0,n.jsx)(t.code,{children:"org.apache.shenyu.examples.http.ShenyuTestHttpApplication"})," main method to start project."]}),"\n",(0,n.jsxs)(t.p,{children:["Since ",(0,n.jsx)(t.code,{children:"2.4.3"}),", ",(0,n.jsx)(t.code,{children:"shenyu.client.http.props.port"})," can be non-configured if you like."]}),"\n",(0,n.jsx)(t.p,{children:"The following log appears when the startup is successful:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:'2021-02-10 00:57:07.561  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/test/**","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/test/**","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.577  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/save","pathDesc":"Save order","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/save","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.587  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/path/**/name","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/path/**/name","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.596  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/findById","pathDesc":"Find by id","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/findById","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:07.606  INFO 3700 --- [pool-1-thread-1] o.d.s.client.common.utils.RegisterUtils  : http client register success: {"appName":"http","context":"/http","path":"/http/order/path/**","pathDesc":"","rpcType":"http","host":"192.168.50.13","port":8188,"ruleName":"/http/order/path/**","enabled":true,"registerMetaData":false} \n2021-02-10 00:57:08.023  INFO 3700 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8188\n2021-02-10 00:57:08.026  INFO 3700 --- [           main] o.d.s.e.http.ShenyuTestHttpApplication     : Started ShenyuTestHttpApplication in 2.555 seconds (JVM running for 3.411) \n'})}),"\n",(0,n.jsx)(t.h2,{id:"test",children:"Test"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"shenyu-examples-http"})," project will automatically register interface methods annotated with ",(0,n.jsx)(t.code,{children:"@ShenyuSpringMvcClient"})," in the Apache ShenYu gateway after successful startup."]}),"\n",(0,n.jsx)(t.p,{children:"Open PluginList -> Proxy -> divide to see the list of plugin rule configurations:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(99697).A+"",width:"1688",height:"378"})}),"\n",(0,n.jsx)(t.p,{children:"Use PostMan to simulate HTTP to request your http service:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(52035).A+"",width:"1066",height:"494"})}),"\n",(0,n.jsxs)(t.p,{children:["Use IDEA HTTP Client Plugin to simulate HTTP to request your http service[local",":no"," Shenyu proxy]:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(77101).A+"",width:"794",height:"549"})}),"\n",(0,n.jsx)(t.p,{children:"Use IDEA HTTP Client Plugin to simulate HTTP to request your http service[Shenyu proxy]:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(64332).A+"",width:"747",height:"654"})})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>p});var n=s(96540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function p(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}},52035:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/postman-test-ffc28736280dc05a51162a4db2a0a7df.png"},64332:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/idea-http-test-proxy-bf5aad9695bc73dc71565ea308ad1ef1.png"},77101:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/idea-http-test-local-3e6960c11dc2bd689ec5276b5e219ce3.png"},99697:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/rule-list-44d335cb7d35496ced765ebf3751ac55.png"}}]);