"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[7651],{21951:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mock-rule-configuration-en-f71ebf28e7338971afc9136819d32277.png"},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>d});var s=i(96540);const r={},l=s.createContext(r);function c(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(l.Provider,{value:n},e.children)}},54127:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/enable-mock-plugin-en-4c1452eb346e287d11b94f8cdf4cbec7.png"},99140:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>d,toc:()=>t});var s=i(74848),r=i(28453);const l={title:"Mock Plugin",keywords:["mock"],description:"mock plugin"},c="1. Overview",d={id:"plugin-center/mock/mock-plugin",title:"Mock Plugin",description:"mock plugin",source:"@site/versioned_docs/version-2.5.0/plugin-center/mock/mock-plugin.md",sourceDirName:"plugin-center/mock",slug:"/plugin-center/mock/mock-plugin",permalink:"/docs/2.5.0/plugin-center/mock/mock-plugin",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.5.0/plugin-center/mock/mock-plugin.md",tags:[],version:"2.5.0",frontMatter:{title:"Mock Plugin",keywords:["mock"],description:"mock plugin"},sidebar:"tutorialSidebar",previous:{title:"Cache Plugin",permalink:"/docs/2.5.0/plugin-center/cache/cache-plugin"},next:{title:"Custom Load Balancer",permalink:"/docs/2.5.0/developer/spi/custom-load-balance"}},o={},t=[{value:"1.1 Plugin Name",id:"11-plugin-name",level:2},{value:"1.2 Appropriate Scenario",id:"12-appropriate-scenario",level:2},{value:"1.3 Plugin functionality",id:"13-plugin-functionality",level:2},{value:"1.4 Plugin Code",id:"14-plugin-code",level:2},{value:"1.5 Added since which shenyu version",id:"15-added-since-which-shenyu-version",level:2},{value:"2.1 Import pom",id:"21-import-pom",level:2},{value:"2.2 Enable plugin",id:"22-enable-plugin",level:2},{value:"2.3 Config plugin",id:"23-config-plugin",level:2},{value:"2.4 <code>${}</code> supported syntax",id:"24--supported-syntax",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"1-overview",children:"1. Overview"}),"\n",(0,s.jsx)(n.h2,{id:"11-plugin-name",children:"1.1 Plugin Name"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Mock Plugin"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"12-appropriate-scenario",children:"1.2 Appropriate Scenario"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Specify the status code and response body for the request to facilitate testing."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"13-plugin-functionality",children:"1.3 Plugin functionality"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Set the status code and body of the request."}),"\n",(0,s.jsxs)(n.li,{children:["Support configuration ",(0,s.jsx)(n.code,{children:"${}"})," placeholder to automatically generate data."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"14-plugin-code",children:"1.4 Plugin Code"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Core module ",(0,s.jsx)(n.code,{children:"shenyu-plugin-mock"})]}),"\n",(0,s.jsxs)(n.li,{children:["Core class ",(0,s.jsx)(n.code,{children:"org.apache.shenyu.plugin.mock.MockPlugin"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"15-added-since-which-shenyu-version",children:"1.5 Added since which shenyu version"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2.5.0"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"2-how-to-use-plugin",children:"2. How to use plugin"}),"\n",(0,s.jsx)(n.h2,{id:"21-import-pom",children:"2.1 Import pom"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["import maven config in shenyu-bootstrap project's ",(0,s.jsx)(n.code,{children:"pom.xml"})," file."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.shenyu</groupId>\n    <artifactId>shenyu-spring-boot-starter-plugin-mock</artifactId>\n    <version>${project.version}</version>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"22-enable-plugin",children:"2.2 Enable plugin"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In ",(0,s.jsx)(n.code,{children:"shenyu-admin"})," --\x3e BasicConfig --\x3e Plugin --\x3e ",(0,s.jsx)(n.code,{children:"mock"})," set Status enable."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(54127).A+"",width:"2948",height:"1478"})}),"\n",(0,s.jsx)(n.h2,{id:"23-config-plugin",children:"2.3 Config plugin"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Selector and rule config, please refer: ",(0,s.jsx)(n.a,{href:"../../user-guide/admin-usage/selector-and-rule",children:"Selector and rule config"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["shenyu-admin mock plugin configuration, supports configuring httpStatusCode and responseContent","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["httpStatusCode",":the"," status code of the request."]}),"\n",(0,s.jsxs)(n.li,{children:["responseContent",":the"," response body of the request,support configuring ",(0,s.jsx)(n.code,{children:"${}"})," placeholders to generate random data."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(21951).A+"",width:"2022",height:"1172"})}),"\n",(0,s.jsxs)(n.h2,{id:"24--supported-syntax",children:["2.4 ",(0,s.jsx)(n.code,{children:"${}"})," supported syntax"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${int|min-max}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random integers from ",(0,s.jsx)(n.code,{children:"min"})," to ",(0,s.jsx)(n.code,{children:"max"}),", inclusive of ",(0,s.jsx)(n.code,{children:"min"})," and ",(0,s.jsx)(n.code,{children:"max"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${int|10-20}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${double|min-max|format}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random floating point numbers from ",(0,s.jsx)(n.code,{children:"min"})," to ",(0,s.jsx)(n.code,{children:"max"}),", formatted according to ",(0,s.jsx)(n.code,{children:"format"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${double|10-20}"})," , ",(0,s.jsx)(n.code,{children:"${double|10-20.5|%.2f}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${email}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random email addresses."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${phone}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random 13-digit mobile number."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${zh|min-max}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random Chinese strings of length ",(0,s.jsx)(n.code,{children:"min"})," to ",(0,s.jsx)(n.code,{children:"max"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${zh|10-20}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${en|min-max}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate random English strings of length ",(0,s.jsx)(n.code,{children:"min"})," to ",(0,s.jsx)(n.code,{children:"max"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${en|10-20}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${bool}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Generate a random ",(0,s.jsx)(n.code,{children:"boolean"})," value i.e. ",(0,s.jsx)(n.code,{children:"true"})," or ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${list|[arg1,arg2...]}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Randomly returns any value in a list as a string."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${list|[gril,boy]}"})," will return ",(0,s.jsx)(n.code,{children:"boy"})," or ",(0,s.jsx)(n.code,{children:"girl"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${current|format}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Returns the current time and uses ",(0,s.jsx)(n.code,{children:"format"})," to format, ",(0,s.jsx)(n.code,{children:"format"})," can be default, the default is ",(0,s.jsx)(n.code,{children:"YYYY-MM-dd HH:mm:ss"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"${current}"}),"\uff0c",(0,s.jsx)(n.code,{children:"${current|YYYY-MM-dd}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${array|item|length}"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," According to the ",(0,s.jsx)(n.code,{children:"item"})," format definition, an array of length ",(0,s.jsx)(n.code,{children:"length"})," can be generated. All the above data generation rules can be nested in ",(0,s.jsx)(n.code,{children:"item"}),", and the result will be automatically added with ",(0,s.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:'${array|{"name":"test"}|3}'})," result is ",(0,s.jsx)(n.code,{children:'[{"name":"test"},{"name":"test"},{"name":"test"}]'}),"\uff0c",(0,s.jsx)(n.code,{children:'${array|{"age":${int|18-65}}|3}'}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Please do not add ",(0,s.jsx)(n.code,{children:'""'})," on both sides of ",(0,s.jsx)(n.code,{children:"${}"}),", the generated content will be prefixed and suffixed according to the definition of generator"]})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);