"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[96001],{28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>o});var s=n(96540);const t={},d=s.createContext(t);function r(e){const i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(d.Provider,{value:i},e.children)}},50415:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>c});var s=n(74848),t=n(28453);const d={sidebar_position:8,title:"Thread Model",keywords:["soul"],description:"thread model"},r=void 0,o={id:"developer-guide/thread",title:"Thread Model",description:"thread model",source:"@site/versioned_docs/version-2.3.0-Legacy/developer-guide/thread.md",sourceDirName:"developer-guide",slug:"/developer-guide/thread",permalink:"/docs/2.3.0-Legacy/developer-guide/thread",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.3.0-Legacy/developer-guide/thread.md",tags:[],version:"2.3.0-Legacy",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"Thread Model",keywords:["soul"],description:"thread model"},sidebar:"tutorialSidebar",previous:{title:"A multilingual HTTP client",permalink:"/docs/2.3.0-Legacy/developer-guide/developer-soul-client"},next:{title:"Soul Optimize",permalink:"/docs/2.3.0-Legacy/developer-guide/soul-optimize"}},l={},c=[{value:"Description",id:"description",level:2},{value:"IO And Work Thread",id:"io-and-work-thread",level:2},{value:"Business Thread",id:"business-thread",level:2},{value:"Type Switching",id:"type-switching",level:2}];function a(e){const i={code:"code",h2:"h2",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"This article gives an introduction to thread models in soul and usage in various scenarios."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"io-and-work-thread",children:"IO And Work Thread"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"spring-webflux"})," is one of dependencies of soul, and it uses Netty thread model in lower layer."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"business-thread",children:"Business Thread"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Use scheduling thread to execute by default."}),"\n",(0,s.jsx)(i.li,{children:"A fixed thread pool manages business threads, the number of threads is count in this formula: cpu * 2 + 1."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"type-switching",children:"Type Switching"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"reactor.core.scheduler.Schedulers"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-Dsoul.scheduler.type=fixed"})," is a default config. If set to other value, a flexible thread pool will take place it.",(0,s.jsx)(i.code,{children:"Schedulers.elastic()"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-Dsoul.work.threads = xx"})," is for configuring number of threads, the default value calculates in following formula ",(0,s.jsx)(i.code,{children:"cpu * 2 + 1"})," with a minimum of 16 threads."]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);