"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[91266],{17494(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"user-guide/property-config/register-center-instance","title":"Register Center Instance Config","description":"Register Instance","source":"@site/versioned_docs/version-2.6.1/user-guide/property-config/register-center-instance.md","sourceDirName":"user-guide/property-config","slug":"/user-guide/property-config/register-center-instance","permalink":"/docs/2.6.1/user-guide/property-config/register-center-instance","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.6.1/user-guide/property-config/register-center-instance.md","tags":[],"version":"2.6.1","frontMatter":{"title":"Register Center Instance Config","keywords":["register center"],"description":"Register Instance"},"sidebar":"tutorialSidebar","previous":{"title":"Application Client Access Config","permalink":"/docs/2.6.1/user-guide/property-config/register-center-access"},"next":{"title":"Data Synchronization Config","permalink":"/docs/2.6.1/user-guide/property-config/use-data-sync"}}');var s=t(74848),o=t(28453);const i={title:"Register Center Instance Config",keywords:["register center"],description:"Register Instance"},c=void 0,d={},a=[{value:"Add Maven dependency",id:"add-maven-dependency",level:3},{value:"Use zookeeper",id:"use-zookeeper",level:3},{value:"Use etcd",id:"use-etcd",level:3},{value:"Use apollo",id:"use-apollo",level:3}];function l(e){const n={blockquote:"blockquote",code:"code",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This document will introduce how to register the gateway instance to the registry. The ",(0,s.jsx)(n.code,{children:"Apache ShenYu"})," gateway currently supports registration to ",(0,s.jsx)(n.code,{children:"zookeeper"})," , ",(0,s.jsx)(n.code,{children:"etcd"})," and ",(0,s.jsx)(n.code,{children:"consul"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"add-maven-dependency",children:"Add Maven dependency"}),"\n",(0,s.jsxs)(n.p,{children:["First, introduce the following dependencies in the gateway's ",(0,s.jsx)(n.code,{children:"pom.xml"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"\x3c!--shenyu registry start--\x3e\n<dependency>\n    <groupId>org.apache.shenyu</groupId>\n    <artifactId>shenyu-spring-boot-starter-registry</artifactId>\n    <version>${project.version}</version>\n</dependency>\n\x3c!--shenyu registry end--\x3e\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-zookeeper",children:"Use zookeeper"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Please pay attention! From ShenYu 2.5.0, ShenYu will no longer support Zookeeper 3.4.x or below version. If you're already using Zookeeper, You need to use Zookeeper with a higher version and initialize the data."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Add the following configuration to the gateway's ",(0,s.jsx)(n.code,{children:"yml"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"registry:\n    enabled: true\n    registerType: zookeeper\n    serverLists: localhost:2181 #config with your zk address, used by the cluster environment, separated with (,).\n    props:\n      sessionTimeout: 3000 #Optional, default 3000\n      connectionTimeout: 3000 #Optional, default 3000\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-etcd",children:"Use etcd"}),"\n",(0,s.jsxs)(n.p,{children:["Add the following configuration to the gateway's ",(0,s.jsx)(n.code,{children:"yml"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"registry:\n    enabled: true\n    registerType: etcd\n    serverLists: http://localhost:2379 #config with your etcd address, used by the cluster environment, separated with (,).\n    props:\n      etcdTimeout: 3000 #Optional, default 3000\n      etcdTTL: 5 #Optional, default 5\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-apollo",children:"Use apollo"}),"\n",(0,s.jsxs)(n.p,{children:["Add the following configuration to the gateway's ",(0,s.jsx)(n.code,{children:"yml"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"registry:\n    enabled: true\n    registerType: apollo\n    serverLists: http://localhost:8080\n    props:\n      env: dev\n      appId: shenyu\n      namespace: application\n      clusterName: default\n      token: 0fff5645fc74ee5e0d63a6389433c8c8afc0beea31eed0279ecc1c8961d12da9\n      portalUrl: http://localhost:8070\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"After the configuration is complete, start the gateway and it will successfully register to the corresponding registration center."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>c});var r=t(96540);const s={},o=r.createContext(s);function i(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);