"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[27981],{20688:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/rule-list-bb247d24aa2f5e009b4749dd447e9018.png"},28453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>o});var n=r(96540);const a={},s=n.createContext(a);function i(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:t},e.children)}},41294:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=r(74848),a=r(28453);const s={title:"Tars\u5feb\u901f\u5f00\u59cb",description:"Tars\u5feb\u901f\u5f00\u59cb"},i=void 0,o={id:"quick-start/quick-start-tars",title:"Tars\u5feb\u901f\u5f00\u59cb",description:"Tars\u5feb\u901f\u5f00\u59cb",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-2.3.0-Legacy/quick-start/quick-start-tars.md",sourceDirName:"quick-start",slug:"/quick-start/quick-start-tars",permalink:"/zh/docs/2.3.0-Legacy/quick-start/quick-start-tars",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/i18n/zh/docusaurus-plugin-content-docs/version-2.3.0-Legacy/quick-start/quick-start-tars.md",tags:[],version:"2.3.0-Legacy",frontMatter:{title:"Tars\u5feb\u901f\u5f00\u59cb",description:"Tars\u5feb\u901f\u5f00\u59cb"},sidebar:"tutorialSidebar",previous:{title:"SpringCloud\u5feb\u901f\u5f00\u59cb",permalink:"/zh/docs/2.3.0-Legacy/quick-start/quick-start-springcloud"},next:{title:"Divide\u63d2\u4ef6",permalink:"/zh/docs/2.3.0-Legacy/plugins/divide-plugin"}},l={},c=[{value:"\u73af\u5883\u51c6\u5907",id:"\u73af\u5883\u51c6\u5907",level:2},{value:"\u8fd0\u884csoul-examples-tars\u9879\u76ee",id:"\u8fd0\u884csoul-examples-tars\u9879\u76ee",level:2},{value:"tars \u63d2\u4ef6\u8bbe\u7f6e",id:"tars-\u63d2\u4ef6\u8bbe\u7f6e",level:2},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["\u672c\u6587\u6863\u5c06\u6f14\u793a\u5982\u4f55\u5feb\u901f\u4f7f\u7528Tars\u63a5\u5165Soul\u7f51\u5173\u3002\u60a8\u53ef\u4ee5\u76f4\u63a5\u5728\u5de5\u7a0b\u4e0b\u627e\u5230\u672c\u6587\u6863\u7684",(0,n.jsx)(t.a,{href:"https://github.com/dromara/soul/tree/2.3.0/soul-examples/soul-examples-tars",children:"\u793a\u4f8b\u4ee3\u7801"}),"\u3002"]}),"\n",(0,n.jsx)(t.h2,{id:"\u73af\u5883\u51c6\u5907",children:"\u73af\u5883\u51c6\u5907"}),"\n",(0,n.jsxs)(t.p,{children:["\u8bf7\u53c2\u8003",(0,n.jsx)(t.a,{href:"../users-guide/soul-set-up",children:"\u914d\u7f6e\u7f51\u5173\u73af\u5883"}),"\u5e76\u542f\u52a8",(0,n.jsx)(t.code,{children:"soul-admin"}),"\u548c",(0,n.jsx)(t.code,{children:"soul-bootstrap"}),"\u3002"]}),"\n",(0,n.jsxs)(t.p,{children:["\u6ce8\uff1a",(0,n.jsx)(t.code,{children:"soul-bootstrap"}),"\u9700\u8981\u5f15\u5165tars\u4f9d\u8d56"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.dromara</groupId>\n    <artifactId>soul-spring-boot-starter-plugin-tars</artifactId>\n    <version>${project.version}</version>\n</dependency>\n\n<dependency>\n    <groupId>com.tencent.tars</groupId>\n    <artifactId>tars-client</artifactId>\n    <version>1.7.2</version>\n</dependency>\n"})}),"\n",(0,n.jsx)(t.h2,{id:"\u8fd0\u884csoul-examples-tars\u9879\u76ee",children:"\u8fd0\u884csoul-examples-tars\u9879\u76ee"}),"\n",(0,n.jsxs)(t.p,{children:["\u4e0b\u8f7d",(0,n.jsx)(t.a,{href:"https://github.com/dromara/soul/tree/2.3.0/soul-examples/soul-examples-tars",children:"soul-examples-tars"})]}),"\n",(0,n.jsxs)(t.p,{children:["\u4fee\u6539",(0,n.jsx)(t.code,{children:"application.yml"}),"\u4e2d\u7684",(0,n.jsx)(t.code,{children:"host"}),"\u4e3a\u4f60\u672c\u5730ip"]}),"\n",(0,n.jsxs)(t.p,{children:["\u4fee\u6539\u914d\u7f6e",(0,n.jsx)(t.code,{children:"src/main/resources/SoulExampleServer.SoulExampleApp.config.conf"}),"\uff1a"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"\u5efa\u8bae\u5f04\u6e05\u695a config \u7684\u4e3b\u8981\u914d\u7f6e\u9879\u542b\u4e49, \u53c2\u8003\u5f00\u53d1\u6307\u5357"}),"\n",(0,n.jsx)(t.li,{children:"config \u4e2d\u7684 ip \u8981\u6ce8\u610f\u63d0\u4f9b\u6210\u672c\u673a\u7684"}),"\n",(0,n.jsx)(t.li,{children:"local=..., \u8868\u793a\u5f00\u653e\u7684\u672c\u673a\u7ed9 tarsnode \u8fde\u63a5\u7684\u7aef\u53e3, \u5982\u679c\u6ca1\u6709 tarsnode, \u53ef\u4ee5\u6389\u8fd9\u9879\u914d\u7f6e"}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"locator"}),": registry\u670d\u52a1\u7684\u5730\u5740\uff0c\u5fc5\u987b\u662f\u6709ip port\u7684\uff0c\u5982\u679c\u4e0d\u9700\u8981registry\u6765\u5b9a\u4f4d\u670d\u52a1\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\uff1b"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"node=tars.tarsnode.ServerObj@xxxx"}),"\uff0c\u8868\u793a\u8fde\u63a5\u7684 tarsnode \u7684\u5730\u5740\uff0c\u5982\u679c\u672c\u5730\u6ca1\u6709 tarsnode\uff0c \u8fd9\u9879\u914d\u7f6e\u53ef\u4ee5\u53bb\u6389"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["\u66f4\u591aconfig\u914d\u7f6e\u8bf4\u660e\u8bf7\u53c2\u8003",(0,n.jsx)(t.a,{href:"https://github.com/TarsCloud/TarsJava/blob/master/docs/tars_java_user_guide.md",children:"Tars\u5b98\u65b9\u6587\u6863"})]}),"\n",(0,n.jsxs)(t.p,{children:["\u8fd0\u884c",(0,n.jsx)(t.code,{children:"org.dromara.soul.examples.tars.SoulTestTarsApplication"}),"main\u65b9\u6cd5\u542f\u52a8\u9879\u76ee\u3002"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"\u6ce8\uff1a"})," \u670d\u52a1\u542f\u52a8\u65f6\u9700\u8981\u5728\u542f\u52a8\u547d\u4ee4\u4e2d\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u5730\u5740 ",(0,n.jsx)(t.strong,{children:"-Dconfig=xxx/SoulExampleServer.SoulExampleApp.config.conf"})]}),"\n",(0,n.jsxs)(t.p,{children:["\u5982\u679c\u4e0d\u52a0",(0,n.jsx)(t.code,{children:"-Dconfig"}),"\u53c2\u6570\u914d\u7f6e\u4f1a\u53ef\u80fd\u4f1a\u5982\u4e0b\u629b\u5f02\u5e38\uff1a"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:"com.qq.tars.server.config.ConfigurationException: error occurred on load server config\n\tat com.qq.tars.server.config.ConfigurationManager.loadServerConfig(ConfigurationManager.java:113)\n\tat com.qq.tars.server.config.ConfigurationManager.init(ConfigurationManager.java:57)\n\tat com.qq.tars.server.core.Server.loadServerConfig(Server.java:90)\n\tat com.qq.tars.server.core.Server.<init>(Server.java:42)\n\tat com.qq.tars.server.core.Server.<clinit>(Server.java:38)\n\tat com.qq.tars.spring.bean.PropertiesListener.onApplicationEvent(PropertiesListener.java:37)\n\tat com.qq.tars.spring.bean.PropertiesListener.onApplicationEvent(PropertiesListener.java:31)\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n\tat org.dromara.soul.examples.tars.SoulTestTarsApplication.main(SoulTestTarsApplication.java:38)\nCaused by: java.lang.NullPointerException\n\tat java.io.FileInputStream.<init>(FileInputStream.java:130)\n\tat java.io.FileInputStream.<init>(FileInputStream.java:93)\n\tat com.qq.tars.common.util.Config.parseFile(Config.java:211)\n\tat com.qq.tars.server.config.ConfigurationManager.loadServerConfig(ConfigurationManager.java:63)\n\t... 17 more\nThe exception occurred at load server config\n"})}),"\n",(0,n.jsx)(t.p,{children:"\u6210\u529f\u542f\u52a8\u4f1a\u6709\u5982\u4e0b\u65e5\u5fd7\uff1a"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:'[SERVER] server starting at tcp -h 127.0.0.1 -p 21715 -t 60000...\n[SERVER] server started at tcp -h 127.0.0.1 -p 21715 -t 60000...\n[SERVER] server starting at tcp -h 127.0.0.1 -p 21714 -t 3000...\n[SERVER] server started at tcp -h 127.0.0.1 -p 21714 -t 3000...\n[SERVER] The application started successfully.\nThe session manager service started...\n[SERVER] server is ready...\n2021-02-09 13:28:24.643  INFO 16016 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 55290 (http) with context path \'\'\n2021-02-09 13:28:24.645  INFO 16016 --- [           main] o.d.s.e.tars.SoulTestTarsApplication     : Started SoulTestTarsApplication in 4.232 seconds (JVM running for 5.1)\n2021-02-09 13:28:24.828  INFO 16016 --- [pool-2-thread-1] o.d.s.client.common.utils.RegisterUtils  : tars client register success: {"appName":"127.0.0.1:21715","contextPath":"/tars","path":"/tars/helloInt","pathDesc":"","rpcType":"tars","serviceName":"SoulExampleServer.SoulExampleApp.HelloObj","methodName":"helloInt","ruleName":"/tars/helloInt","parameterTypes":"int,java.lang.String","rpcExt":"{\\"methodInfo\\":[{\\"methodName\\":\\"helloInt\\",\\"params\\":[{},{}],\\"returnType\\":\\"java.lang.Integer\\"},{\\"methodName\\":\\"hello\\",\\"params\\":[{},{}],\\"returnType\\":\\"java.lang.String\\"}]}","enabled":true} \n2021-02-09 13:28:24.837  INFO 16016 --- [pool-2-thread-1] o.d.s.client.common.utils.RegisterUtils  : tars client register success: {"appName":"127.0.0.1:21715","contextPath":"/tars","path":"/tars/hello","pathDesc":"","rpcType":"tars","serviceName":"SoulExampleServer.SoulExampleApp.HelloObj","methodName":"hello","ruleName":"/tars/hello","parameterTypes":"int,java.lang.String","rpcExt":"{\\"methodInfo\\":[{\\"methodName\\":\\"helloInt\\",\\"params\\":[{},{}],\\"returnType\\":\\"java.lang.Integer\\"},{\\"methodName\\":\\"hello\\",\\"params\\":[{},{}],\\"returnType\\":\\"java.lang.String\\"}]}","enabled":true} \n'})}),"\n",(0,n.jsx)(t.h2,{id:"tars-\u63d2\u4ef6\u8bbe\u7f6e",children:"tars \u63d2\u4ef6\u8bbe\u7f6e"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\u5728 ",(0,n.jsx)(t.code,{children:"soul-admin"})," \u63d2\u4ef6\u7ba1\u7406\u4e2d\uff0c\u628a",(0,n.jsx)(t.code,{children:"tars"})," \u63d2\u4ef6\u8bbe\u7f6e\u4e3a\u5f00\u542f\u3002"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"soul-examples-tars"}),"\u9879\u76ee\u6210\u529f\u542f\u52a8\u4e4b\u540e\u4f1a\u81ea\u52a8\u628a\u52a0 ",(0,n.jsx)(t.code,{children:"@SoulTarsClient"})," \u6ce8\u89e3\u7684\u63a5\u53e3\u65b9\u6cd5\u6ce8\u518c\u5230\u7f51\u5173\u3002"]}),"\n",(0,n.jsx)(t.p,{children:"\u6253\u5f00\u63d2\u4ef6\u7ba1\u7406->tars\u53ef\u4ee5\u770b\u5230\u63d2\u4ef6\u89c4\u5219\u914d\u7f6e\u5217\u8868"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:r(20688).A+"",width:"1691",height:"345"})}),"\n",(0,n.jsx)(t.p,{children:"\u4e0b\u9762\u4f7f\u7528postman\u6a21\u62dfhttp\u7684\u65b9\u5f0f\u6765\u8bf7\u6c42\u4f60\u7684tars\u670d\u52a1"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:r(45108).A+"",width:"1067",height:"530"})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},45108:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/postman-test-71e1f81f98f8a0547421fddce8ae259a.png"}}]);