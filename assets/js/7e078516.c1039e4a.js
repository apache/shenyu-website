"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[97216],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(96540);const t={},a=s.createContext(t);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(a.Provider,{value:n},e.children)}},79342:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=i(74848),t=i(28453);const a={title:"Observability",keywords:["Observability"],description:"Observability access"},r=void 0,o={id:"user-guide/observability/observability",title:"Observability",description:"Observability access",source:"@site/versioned_docs/version-2.4.2/user-guide/observability/observability.md",sourceDirName:"user-guide/observability",slug:"/user-guide/observability/",permalink:"/docs/2.4.2/user-guide/observability/",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.4.2/user-guide/observability/observability.md",tags:[],version:"2.4.2",frontMatter:{title:"Observability",keywords:["Observability"],description:"Observability access"},sidebar:"tutorialSidebar",previous:{title:"Gateway Property Config",permalink:"/docs/2.4.2/user-guide/property-config/gateway-property-config"},next:{title:"Tracing",permalink:"/docs/2.4.2/user-guide/observability/tracing"}},l={},c=[{value:"Java agent",id:"java-agent",level:2},{value:"Tracing",id:"tracing",level:2},{value:"Metrics",id:"metrics",level:2},{value:"Logging",id:"logging",level:2},{value:"Download and compile the code",id:"download-and-compile-the-code",level:2},{value:"shenyu-agent.yaml",id:"shenyu-agentyaml",level:2},{value:"For use",id:"for-use",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This article introduces the ",(0,s.jsx)(n.code,{children:"Apache ShenYu Agent"})," module."]}),"\n",(0,s.jsx)(n.h2,{id:"java-agent",children:"Java agent"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Apache ShenYu"})," uses ",(0,s.jsx)(n.code,{children:"java agent"})," and ",(0,s.jsx)(n.code,{children:"bytecode enhancement"})," technology to achieve seamless embedding, so that users can access third-party observability systems without introducing dependencies, and obtain Traces, Metrics and Logging."]}),"\n",(0,s.jsx)(n.h2,{id:"tracing",children:"Tracing"}),"\n",(0,s.jsx)(n.p,{children:"Link tracking, call chain data is collected via probes and third party systems (Jaeger, Zipkin) to pull the data and then display it."}),"\n",(0,s.jsx)(n.h2,{id:"metrics",children:"Metrics"}),"\n",(0,s.jsx)(n.p,{children:"System statistics metrics, collected by probes, are written to third-party timing databases such as prometheus and then displayed."}),"\n",(0,s.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,s.jsx)(n.p,{children:"Take the shenyu gateway log information, write it to elasticSearch (or send it to the messaging middleware), and display it."}),"\n",(0,s.jsx)(n.h2,{id:"download-and-compile-the-code",children:"Download and compile the code"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Download code"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/apache/incubator-shenyu.git\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use Maven to compile the code"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd incubator-shenyu\nmvn clean install -Dmaven.javadoc.skip=true -B -Drat.skip=true -Djacoco.skip=true -DskipITs -DskipTests\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After the compilation is successful, you can see the compiled jar package and related configuration files of the ",(0,s.jsx)(n.code,{children:"shenyu-agent"})," module in the ",(0,s.jsx)(n.code,{children:"~/shenyu/shenyu-dist/shenyu-agent-dist/target/shenyu-agent"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:".\n\u251c\u2500\u2500 conf\n\u2502\xa0\xa0 \u251c\u2500\u2500 logback.xml\n\u2502\xa0\xa0 \u251c\u2500\u2500 shenyu-agent.yaml\n\u2502\xa0\xa0 \u2514\u2500\u2500 tracing-point.yaml\n\u251c\u2500\u2500 plugins\n\u2502\xa0\xa0 \u251c\u2500\u2500 shenyu-agent-plugin-xxx.jar\n\u2514\u2500\u2500 shenyu-agent.jar\n"})}),"\n",(0,s.jsx)(n.h2,{id:"shenyu-agentyaml",children:"shenyu-agent.yaml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"appName: shenyu-agent\nsupports:\n  tracing:\n    - pluginName\n  metrics:\n    - pluginName\n  logging:\n    - pluginName\n  \nplugins:\n  tracing:\n    pluginName:\n      host: \n      port:\n      props:\n  metrics:\n    pluginName:\n      host: \n      port:\n      props:\n  logging:\n    pluginName:\n      host: \n      port:\n      props:\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Select the plugin to be used in ",(0,s.jsx)(n.code,{children:"supports"})]}),"\n",(0,s.jsxs)(n.li,{children:["Configure the parameters of the plug-in in ",(0,s.jsx)(n.code,{children:"plugins"}),". The specific usage of each plug-in props parameter is shown in the following tables:"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"for-use",children:"For use"}),"\n",(0,s.jsxs)(n.p,{children:["For deployment, please refer to ",(0,s.jsx)(n.a,{href:"/docs/2.4.2/deployment/deployment-package#start-shenyu-bootstrap-with-shenyu-agent",children:"Binary Packages Deployment"})," or ",(0,s.jsx)(n.a,{href:"/docs/2.4.2/deployment/deployment-docker#start-shenyu-bootstrap-with-shenyu-agent",children:"Docker Deployment"})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Developers can add the ",(0,s.jsx)(n.code,{children:"-javaagent"})," parameter to the JVM parameter of the IDE startup configuration, please refer to ",(0,s.jsx)(n.a,{href:"/docs/2.4.2/developer/debug-agent",children:"Local debug and run agent module"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);