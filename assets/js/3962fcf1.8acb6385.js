"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[1153],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(96540);const o={},i=r.createContext(o);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},78931:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=t(74848),o=t(28453);const i={title:"Kubernetes Controller Config",description:"Kubernetes Controller Config"},s=void 0,l={id:"user-guide/kubernetes-controller/config",title:"Kubernetes Controller Config",description:"Kubernetes Controller Config",source:"@site/versioned_docs/version-2.6.0/user-guide/kubernetes-controller/config.md",sourceDirName:"user-guide/kubernetes-controller",slug:"/user-guide/kubernetes-controller/config",permalink:"/docs/2.6.0/user-guide/kubernetes-controller/config",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.6.0/user-guide/kubernetes-controller/config.md",tags:[],version:"2.6.0",frontMatter:{title:"Kubernetes Controller Config",description:"Kubernetes Controller Config"},sidebar:"tutorialSidebar",previous:{title:"Build And Deploy Kubernetes Controller",permalink:"/docs/2.6.0/user-guide/kubernetes-controller/build-deploy"},next:{title:"The client registers the API documentation",permalink:"/docs/2.6.0/user-guide/api-doc/shenyu-annotation-apidoc"}},a={},u=[{value:"Enable HTTPS",id:"enable-https",level:2},{value:"Ingress configuration",id:"ingress-configuration",level:2},{value:"General",id:"general",level:3},{value:"Divide plugin (HTTP proxy)",id:"divide-plugin-http-proxy",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This article introduces Kubernetes Controller configuration."}),"\n",(0,r.jsx)(n.h2,{id:"enable-https",children:"Enable HTTPS"}),"\n",(0,r.jsxs)(n.p,{children:["To enable HTTPS, you need to configure the ",(0,r.jsx)(n.code,{children:"sni protocol"})," in the ",(0,r.jsx)(n.code,{children:"application.yml"})," file of the gateway:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n   netty:\n     http:\n       sni:\n         enabled: true\n         mod: k8s #k8s mode applies\n         defaultK8sSecretNamespace: shenyu-ingress #The namespace of the default secret resource\n         defaultK8sSecretName: default-cert #default secret resource name\n"})}),"\n",(0,r.jsx)(n.p,{children:"Among them, the default secret resource must be available, but it will not be actually used at present."}),"\n",(0,r.jsx)(n.h2,{id:"ingress-configuration",children:"Ingress configuration"}),"\n",(0,r.jsxs)(n.p,{children:["ShenYu Kubernetes Controller implements the K8s native Ingress standard, see ",(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/services-networking/ingress/",children:"K8s official documentation"})," for the use of the native standard"]}),"\n",(0,r.jsx)(n.p,{children:"In addition, Apache ShenYu has expanded based on the Annotation field of Ingress, and the configuration is shown in the following tables:"}),"\n",(0,r.jsx)(n.h3,{id:"general",children:"General"}),"\n",(0,r.jsx)(n.p,{children:"| Name | Default | Required | Description |\n| --------------------------- | ------ | -------- | ----- --- |\n| kubernetes.io/ingress.class | | Yes | Fill in shenyu |"}),"\n",(0,r.jsx)(n.h3,{id:"divide-plugin-http-proxy",children:"Divide plugin (HTTP proxy)"}),"\n",(0,r.jsx)(n.p,{children:"| Name | Default | Required | Description |\n| ------------------------------------- | ------ | ------- - | ------------------------------------------------ ------------ |\n| shenyu.apache.org/loadbalancer | random | No | Load balancing algorithm, optional hash, random, roundRobin, leastActive, p2c, shortestResponse |\n| shenyu.apache.org/retry | 3 | No | Number of failed retries |\n| shenyu.apache.org/timeout | 3000 | No | Backend request timeout, in milliseconds |\n| shenyu.apache.org/header-max-size | 10240 | No | The maximum size of the request header, unit byte |\n| shenyu.apache.org/request-max-size | 102400 | No | Maximum request body size, unit byte |"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);