"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[57160],{26700:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var t=s(74848),r=s(28453);const i={title:"Application Client Access Config",keywords:["register center"],description:"register center access"},o=void 0,c={id:"user-guide/register-center-access",title:"Application Client Access Config",description:"register center access",source:"@site/versioned_docs/version-2.4.3/user-guide/register-center-access.md",sourceDirName:"user-guide",slug:"/user-guide/register-center-access",permalink:"/docs/2.4.3/user-guide/register-center-access",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.4.3/user-guide/register-center-access.md",tags:[],version:"2.4.3",frontMatter:{title:"Application Client Access Config",keywords:["register center"],description:"register center access"},sidebar:"tutorialSidebar",previous:{title:"Websocket Proxy",permalink:"/docs/2.4.3/user-guide/proxy/websocket-proxy"},next:{title:"Register Center Instance Config",permalink:"/docs/2.4.3/user-guide/register-center-instance"}},a={},d=[{value:"Http Registry Config",id:"http-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config",level:4},{value:"shenyu-client config",id:"shenyu-client-config",level:4},{value:"Zookeeper Registry Config",id:"zookeeper-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config-1",level:4},{value:"shenyu-client config",id:"shenyu-client-config-1",level:4},{value:"Etcd Registry Config",id:"etcd-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config-2",level:4},{value:"shenyu-client config",id:"shenyu-client-config-2",level:4},{value:"Consul Registry Config",id:"consul-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config-3",level:4},{value:"shenyu-client config",id:"shenyu-client-config-3",level:4},{value:"Nacos Registry Config",id:"nacos-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config-4",level:4},{value:"shenyu-client config",id:"shenyu-client-config-4",level:4},{value:"Register different type API at same time",id:"register-different-type-api-at-same-time",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Application client access means to access your microservice to ShenYu gateway, currently supports HTTP, Dubbo, Spring Cloud, gRPC, Motan, Sofa, Tars and other protocols access."}),"\n",(0,t.jsx)(n.p,{children:"Connecting the application client to ShenYu gateway is realized through the registration center, which involves the registration of the client and the synchronization of the server data. The registry supports HTTP, ZooKeeper, Etcd, Consul, and Nacos."}),"\n",(0,t.jsxs)(n.p,{children:["This article describes how to configure the application client to access the Apache ShenYu gateway. For related principles, see ",(0,t.jsx)(n.a,{href:"../design/register-center-design",children:"Application Client Access"})," in the design document ."]}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/app-client-access-config-en.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h3,{id:"http-registry-config",children:"Http Registry Config"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-admin-config",children:"shenyu-admin config"}),"\n",(0,t.jsxs)(n.p,{children:["Set the register type to '",(0,t.jsx)(n.code,{children:"Http"})," in the ",(0,t.jsx)(n.code,{children:"yml"})," file. The configuration information is as follows:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: http\n    props:\n      \tchecked: true  # is checked\n      \tzombieCheckTimes: 5 # how many times does it fail to detect the service\n      \tscheduledTime: 10 # timed detection interval time\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-http-admin-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-client-config",children:"shenyu-client config"}),"\n",(0,t.jsxs)(n.p,{children:["The following shows the configuration information registered through ",(0,t.jsx)(n.code,{children:"Http"})," when the ",(0,t.jsx)(n.code,{children:"Http"})," service accesses the ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway as a client. Other clients (such as ",(0,t.jsx)(n.code,{children:"Dubbo"})," and ",(0,t.jsx)(n.code,{children:"Spring Cloud"}),") can be configured in the same way."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: http\n    serverLists: http://localhost:9095\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8188  \n      \t\tisFull: false\n# registerType : register type, set http\n# serverList: when register type is http\uff0cset shenyu-admin address list\uff0cpls note 'http://' is necessary.\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-http-client-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h3,{id:"zookeeper-registry-config",children:"Zookeeper Registry Config"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-admin-config-1",children:"shenyu-admin config"}),"\n",(0,t.jsxs)(n.p,{children:["First add the related dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file (already added by default) :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-zookeeper</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-zk-admin-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.code,{children:"yml"})," file, set the register type to ",(0,t.jsx)(n.code,{children:"zookeeper"})," and enter the service address and parameters of ",(0,t.jsx)(n.code,{children:"zookeeper"}),". The configuration information is as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: zookeeper\n    serverLists: localhost:2181\n    props:\n      sessionTimeout: 5000\n      connectionTimeout: 2000\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-zk-admin-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-client-config-1",children:"shenyu-client config"}),"\n",(0,t.jsxs)(n.p,{children:["The following shows the configuration information registered by ",(0,t.jsx)(n.code,{children:"zookeeper"})," when the ",(0,t.jsx)(n.code,{children:"Http"})," service accesses the ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway as a client. Other clients (such as ",(0,t.jsx)(n.code,{children:"Dubbo"})," and ",(0,t.jsx)(n.code,{children:"Spring Cloud"}),") can be configured in the same way."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["First add dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        \x3c!-- apache shenyu zookeeper register center --\x3e\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-zookeeper</artifactId>\n            <version>${shenyu.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-zk-client-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then set the register type to ",(0,t.jsx)(n.code,{children:"zookeeper"})," in ",(0,t.jsx)(n.code,{children:"yml"})," and enter the service address and related parameters as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: zookeeper\n    serverLists: localhost:2181\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8189  \n      \t\tisFull: false\n# registerType : register type, set zookeeper\n# serverList: when register type is zookeeper\uff0cset zookeeper address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-zk-client-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h3,{id:"etcd-registry-config",children:"Etcd Registry Config"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-admin-config-2",children:"shenyu-admin config"}),"\n",(0,t.jsxs)(n.p,{children:["First add the related dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file (already added by default) :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-etcd</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-etcd-admin-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then set register type to ",(0,t.jsx)(n.code,{children:"etcd"})," in ",(0,t.jsx)(n.code,{children:"yml"})," and enter ",(0,t.jsx)(n.code,{children:"etcd"})," service address and parameters. The configuration information is as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: etcd\n    serverLists : http://localhost:2379\n    props:\n      etcdTimeout: 5000\n      etcdTTL: 5\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-etcd-admin-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-client-config-2",children:"shenyu-client config"}),"\n",(0,t.jsxs)(n.p,{children:["The following shows the configuration information registered by ",(0,t.jsx)(n.code,{children:"Etcd"})," when the ",(0,t.jsx)(n.code,{children:"Http"})," service accesses the ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway as a client. Other clients (such as ",(0,t.jsx)(n.code,{children:"Dubbo"})," and ",(0,t.jsx)(n.code,{children:"Spring Cloud"}),") can be configured in the same way."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["First add dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        \x3c!-- apache shenyu etcd register center --\x3e\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-etcd</artifactId>\n            <version>${shenyu.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-etcd-client-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then set the register type to ",(0,t.jsx)(n.code,{children:"etcd"})," in ",(0,t.jsx)(n.code,{children:"yml"})," and enter the ",(0,t.jsx)(n.code,{children:"etcd"})," service address and related parameters as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: etcd \n    serverLists: http://localhost:2379\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8189  \n      \t\tisFull: false\n# registerType : register type, set etcd \n# serverList: when register type is etcd, add etcd address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-etcd-client-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h3,{id:"consul-registry-config",children:"Consul Registry Config"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-admin-config-3",children:"shenyu-admin config"}),"\n",(0,t.jsxs)(n.p,{children:["First add the related dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        \x3c!-- apache shenyu consul register start--\x3e\n        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-consul</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n\n        \x3c!-- apache shenyu consul register start --\x3e\n        <dependency>\n            <groupId>com.ecwid.consul</groupId>\n            <artifactId>consul-api</artifactId>\n            <version>${consul.api.version}</version>\n        </dependency>\n        \x3c!-- apache shenyu consul register end--\x3e\n\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.code,{children:"yml"})," file to configure the registry as ",(0,t.jsx)(n.code,{children:"consul"}),", the unique configuration of consul is configured under the props node, the configuration information is as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: consul\n    serverLists: localhost:8500\n    props:\n      delay: 1\n      wait-time: 55\n      name: shenyuAdmin\n      instanceId: shenyuAdmin\n      hostName: localhost\n      port: 8500\n      tags: test1,test2\n      preferAgentAddress: false\n      enableTagOverride: false\n\n# registerType : register type, set consul.\n# serverLists: consul client agent address (sidecar deployment (single machine or cluster), or the address of consul server agent (only one node of consul server agent can be connected, if it is a cluster, then there will be a single point of failure))\n# delay: The interval of each polling of monitoring metadata, in seconds, the default value is 1 second.\n# wait-time: The waiting time for each polling of metadata monitoring, in seconds, the default value is 55 second.\n# instanceId: Required, Consul needs to find specific services through instanceId.\n# name: The name where the service is registered to consul. \n# hostName: When registering the type for consul, fill in the address of the registered service instance. The service instance address registered in the registry will not be used for client calls, so this configuration does not need to be filled in. Port and preferAgentAddress are the same.\n# port: When registering the type for consul, fill in the port of the registered service instance.\n# tags: Corresponding to the tags configuration in the consul configuration\n# preferAgentAddress\uff1aUsing the address corresponding to the agent on the consul client side as the address of the registered service instance will override the manual configuration of hostName\n# enableTagOverride\uff1aCorresponding to the enableTagOverride configuration in the consul configuration\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-client-config-3",children:"shenyu-client config"}),"\n",(0,t.jsxs)(n.p,{children:["Register configuration information through the ",(0,t.jsx)(n.code,{children:"Consul"})," method (the registry of the springCloud service itself can be selected at will, and there will be no conflict with the registry selected by shenyu, eureka is used in the example)."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["First add dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"\x3c!-- apache shenyu consul register center --\x3e\n<dependency>\n    <groupId>org.apache.shenyu</groupId>\n    <artifactId>shenyu-register-client-consul</artifactId>\n    <version>${shenyu.version}</version>\n</dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then set the register type to ",(0,t.jsx)(n.code,{children:"consul"})," in ",(0,t.jsx)(n.code,{children:"yml"})," and config ",(0,t.jsx)(n.code,{children:"shenyu.register.props"}),", and related parameters as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n  registerType: consul\n  serverLists: localhost:8500\n  props:\n    name: shenyuSpringCloudExample\n    instanceId: shenyuSpringCloudExample\n    hostName: localhost\n    port: 8500\n    tags: test1,test2\n    preferAgentAddress: false\n    enableTagOverride: false\nclient:\n  springCloud:\n    props:\n      contextPath: /springcloud\n      port: 8884\n# registerType : register type, set consul.\n# serverLists: consul client agent address (sidecar deployment (single machine or cluster), or the address of consul server agent (only one node of consul server agent can be connected, if it is a cluster, then there will be a single point of failure))\n# delay: The interval of each polling of monitoring metadata, in seconds, the default value is 1 second.\n# wait-time: The waiting time for each polling of metadata monitoring, in seconds, the default value is 55 second.\n# instanceId: Required, Consul needs to find specific services through instanceId.\n# name: The name where the service is registered to consul. \n# hostName: When registering the type for consul, fill in the address of the registered service instance. The service instance address registered in the registry will not be used for client calls, so this configuration does not need to be filled in. Port and preferAgentAddress are the same.\n# port: When registering the type for consul, fill in the port of the registered service instance.\n# tags: Corresponding to the tags configuration in the consul configuration\n# preferAgentAddress\uff1aUsing the address corresponding to the agent on the consul client side as the address of the registered service instance will override the manual configuration of hostName\n# enableTagOverride\uff1aCorresponding to the enableTagOverride configuration in the consul configuration\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nacos-registry-config",children:"Nacos Registry Config"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-admin-config-4",children:"shenyu-admin config"}),"\n",(0,t.jsxs)(n.p,{children:["First add the related dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file (already added by default) :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-server-nacos</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-nacos-admin-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then in the ",(0,t.jsx)(n.code,{children:"yml"})," file, configure the registry as ",(0,t.jsx)(n.code,{children:"nacos"}),", fill in the related ",(0,t.jsx)(n.code,{children:"nacos"})," service address and parameters, and ",(0,t.jsx)(n.code,{children:"nacos"})," namespace (need to be consistent with ",(0,t.jsx)(n.code,{children:"shenyu-client"}),"), the configuration information is as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: nacos\n    serverLists : localhost:8848\n    props:\n      nacosNameSpace: ShenyuRegisterCenter\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-nacos-admin-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h4,{id:"shenyu-client-config-4",children:"shenyu-client config"}),"\n",(0,t.jsxs)(n.p,{children:["The following shows the configuration information registered by ",(0,t.jsx)(n.code,{children:"Nacos"})," when the ",(0,t.jsx)(n.code,{children:"Http"})," service accesses the ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway as a client. Other clients (such as ",(0,t.jsx)(n.code,{children:"Dubbo"})," and ",(0,t.jsx)(n.code,{children:"Spring Cloud"}),") can be configured in the same way."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["First add dependencies to the ",(0,t.jsx)(n.code,{children:"pom"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.apache.shenyu</groupId>\n            <artifactId>shenyu-register-client-nacos</artifactId>\n            <version>${shenyu.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-nacos-client-pom.png",width:"70%",height:"60%"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Then in ",(0,t.jsx)(n.code,{children:"yml"})," configure registration mode as ",(0,t.jsx)(n.code,{children:"nacos"}),", and fill in ",(0,t.jsx)(n.code,{children:"nacos"})," service address and related parameters, also need ",(0,t.jsx)(n.code,{children:"nacos"})," namespace (need to be consistent with ",(0,t.jsx)(n.code,{children:"shenyu-admin"}),"), IP (optional, then automatically obtain the local IP address) and port, configuration information is as follows:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: nacos\n    serverLists: localhost:8848\n    props:\n      nacosNameSpace: ShenyuRegisterCenter\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8188  \n      \t\tisFull: false\n# registerType : register type, set nacos \n# serverList: when register type is nacos, add nacos address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n# nacosNameSpace: nacos namespace\n"})}),"\n",(0,t.jsx)("img",{src:"/img/shenyu/register/register-nacos-client-yml.png",width:"70%",height:"60%"}),"\n",(0,t.jsx)(n.h3,{id:"register-different-type-api-at-same-time",children:"Register different type API at same time"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"follow example use the http and dubbo."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["the ",(0,t.jsx)(n.code,{children:"yml"})," configuration like follow:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: nacos\n    serverLists: localhost:8848\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8188  \n      \t\tisFull: false\n    dubbo:\n    \tprops:\n      \t\tcontextPath: /dubbo\n      \t\tappName: dubbo\n      \t\tport: 28080\n    props:\n      nacosNameSpace: ShenyuRegisterCenter\n# registerType : register type, set nacos \n# serverList: when register type is nacos, add nacos address list\n# http.port: your project port number; apply to springmvc\n# http.contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# http.appName\uff1ayour project name,the default value is`spring.application.name`.\n# http.isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n# dubbo.contextPath: your project dubbo service's context path\n# dubbo.port: your project dubbo rpc port\n# dubbo.appName: your project dubbo appliation name\n# nacosNameSpace: nacos namespace\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In conclusion, this paper mainly describes how to connect your microservices (currently supporting ",(0,t.jsx)(n.code,{children:"Http"}),", ",(0,t.jsx)(n.code,{children:"Dubbo"}),", ",(0,t.jsx)(n.code,{children:"Spring Cloud"}),", ",(0,t.jsx)(n.code,{children:"gRPC"}),", ",(0,t.jsx)(n.code,{children:"Motan"}),", ",(0,t.jsx)(n.code,{children:"Sofa"}),", ",(0,t.jsx)(n.code,{children:"Tars"})," and other protocols) to the ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway. the Apache ShenYu gateway support registry has ",(0,t.jsx)(n.code,{children:"Http"}),", ",(0,t.jsx)(n.code,{children:"Zookeeper"}),", ",(0,t.jsx)(n.code,{children:"Etcd"}),", ",(0,t.jsx)(n.code,{children:"Consul"}),", ",(0,t.jsx)(n.code,{children:"Nacos"})," and so on. This paper introduces the different ways to register configuration information when ",(0,t.jsx)(n.code,{children:"Http"})," service is used as the client to access ",(0,t.jsx)(n.code,{children:"Apache ShenYu"})," gateway."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(96540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);