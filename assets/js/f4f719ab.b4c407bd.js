"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[48603],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>o});var s=r(96540);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}},69076(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"register-center/register-center-access","title":"Register Center Access","description":"register center access","source":"@site/versioned_docs/version-2.3.0-Legacy/register-center/register-center-access.md","sourceDirName":"register-center","slug":"/register-center/register-center-access","permalink":"/docs/2.3.0-Legacy/register-center/register-center-access","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.3.0-Legacy/register-center/register-center-access.md","tags":[],"version":"2.3.0-Legacy","frontMatter":{"title":"Register Center Access","keywords":["soul"],"description":"register center access"},"sidebar":"tutorialSidebar","previous":{"title":"Use Different Data-Sync Strategy","permalink":"/docs/2.3.0-Legacy/users-guide/use-data-sync"},"next":{"title":"Register Center Design","permalink":"/docs/2.3.0-Legacy/register-center/register-center-design"}}');var t=r(74848),i=r(28453);const l={title:"Register Center Access",keywords:["soul"],description:"register center access"},o=void 0,a={},c=[{value:"Explain",id:"explain",level:2},{value:"HTTP Registry",id:"http-registry",level:2},{value:"Soul-Admin",id:"soul-admin",level:4},{value:"Soul-Client",id:"soul-client",level:4},{value:"Zookeeper Registry",id:"zookeeper-registry",level:2},{value:"Soul-Admin",id:"soul-admin-1",level:4},{value:"Soul-Client",id:"soul-client-1",level:4},{value:"Etcd Registry",id:"etcd-registry",level:2},{value:"Soul-Admin",id:"soul-admin-2",level:4},{value:"Soul-Client",id:"soul-client-2",level:4},{value:"Consul Registry",id:"consul-registry",level:2},{value:"Soul-Admin",id:"soul-admin-3",level:4},{value:"Soul-Client",id:"soul-client-3",level:4},{value:"Nacos Registry",id:"nacos-registry",level:2},{value:"Soul-Admin",id:"soul-admin-4",level:4},{value:"Soul-Client",id:"soul-client-4",level:4}];function d(e){const n={code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"explain",children:"Explain"}),"\n",(0,t.jsx)(n.p,{children:"Explain register center access config"}),"\n",(0,t.jsx)(n.h2,{id:"http-registry",children:"HTTP Registry"}),"\n",(0,t.jsx)(n.h4,{id:"soul-admin",children:"Soul-Admin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  register:\n    registerType: http\n    props:\n      checked: true  # is checked\n      zombieCheckTimes: 5 # How many times does it fail to detect the service\n      scheduledTime: 10 # Timed detection interval time\n"})}),"\n",(0,t.jsx)(n.h4,{id:"soul-client",children:"Soul-Client"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  client:\n    registerType: http\n    serverLists: http://localhost:9095\n    props:\n      contextPath: /http\n      appName: http\n      port: 8188\n      isFull: false\n# registerType : register type, set http\n# serverList: when register type is http\uff0cset Soul-Admin address list\uff0cpls note 'http://' is necessary.\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through soul gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)(n.h2,{id:"zookeeper-registry",children:"Zookeeper Registry"}),"\n",(0,t.jsx)(n.h4,{id:"soul-admin-1",children:"Soul-Admin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-server-zookeeper</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  register:\n    registerType: zookeeper\n    serverLists : localhost:2181\n    props:\n      sessionTimeout: 5000\n      connectionTimeout: 2000\n"})}),"\n",(0,t.jsx)(n.h4,{id:"soul-client-1",children:"Soul-Client"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-client-zookeeper</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  client:\n    registerType: zookeeper\n    serverLists: localhost:2181\n    props:\n      contextPath: /http\n      appName: http\n      port: 8188  \n      isFull: false\n# registerType : register type, set zookeeper\n# serverList: when register type is zookeeper\uff0cset zookeeper address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through soul gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)(n.h2,{id:"etcd-registry",children:"Etcd Registry"}),"\n",(0,t.jsx)(n.h4,{id:"soul-admin-2",children:"Soul-Admin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-server-etcd</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  register:\n    registerType: etcd\n    serverLists : http://localhost:2379\n    props:\n      etcdTimeout: 5000\n      etcdTTL: 5\n"})}),"\n",(0,t.jsx)(n.h4,{id:"soul-client-2",children:"Soul-Client"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-client-etcd</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  client:\n    registerType: etcd\n    serverLists: http://localhost:2379\n    props:\n      contextPath: /http\n      appName: http\n      port: 8188  \n      isFull: false\n# registerType : register type, set etcd \n# serverList: when register type is etcd, add etcd address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through soul gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,t.jsx)(n.h2,{id:"consul-registry",children:"Consul Registry"}),"\n",(0,t.jsx)(n.h4,{id:"soul-admin-3",children:"Soul-Admin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml :"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"               \x3c!--soul-register-server-consul (Default has been added)--\x3e\n               <dependency>\n                   <groupId>org.dromara</groupId>\n                   <artifactId>soul-register-server-consul</artifactId>\n                   <version>${project.version}</version>\n               </dependency>\n\n               \x3c!--spring-cloud-starter-consul-discovery need add by yourself, suggest use 2.2.6.RELEASE version, other version maybe can't work--\x3e\n               <dependency>\n                   <groupId>org.springframework.cloud</groupId>\n                   <artifactId>spring-cloud-starter-consul-discovery</artifactId>\n                   <version>2.2.6.RELEASE</version>\n               </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml, additional need add spring.cloud.consul\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  register:\n    registerType: consul\n    props:\n      delay: 1\n      wait-time: 55\n\nspring:\n  cloud:\n    consul:\n      discovery:\n        instance-id: soul-admin-1\n        service-name: soul-admin\n        tags-as-metadata: false\n      host: localhost\n      port: 8500\n\n# registerType : register type, set consul.\n# delay: The interval of each polling of monitoring metadata, in seconds, the default value is 1 second.\n# wait-time: The waiting time for each polling of metadata monitoring, in seconds, the default value is 55 second.\n# instance-id: Required, Consul needs to find specific services through instance-id.\n# service-name: The name where the service is registered to consul. If not configured, the value of `spring.application.name` will be taken by default.\n# host: Consul server host, the default value is localhost.\n# port: Consul server port, the default value is 8500.\n# tags-as-metadata: false, Required, This option must be set to false, otherwise the URI information will not be found, will cause to selector and upstream cache unable to update.\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"soul-client-3",children:"Soul-Client"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Note, consul registry is not compatible with current and SpringCloud will and Eureka / Nacos registry conflicts"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (need add by yourself, suggest use 2.2.6.RELEASE version, other version maybe can't work)\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"            <dependency>\n               <groupId>org.springframework.cloud</groupId>\n               <artifactId>spring-cloud-starter-consul-discovery</artifactId>\n               <version>2.2.6.RELEASE</version>\n           </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml, additional need add spring.cloud.consul\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  client:\n    registerType: consul \n    props:\n      contextPath: /http\n      appName: http\n      port: 8188  \n      isFull: false\n\nspring:\n  cloud:\n    consul:\n      discovery:\n        instance-id: soul-http-1\n        service-name: soul-http\n      host: localhost\n      port: 8500\n\n# registerType : register type, set consul.\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through soul gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc\n# instance-id: Required, Consul needs to find specific services through instance-id.\n# service-name: The name where the service is registered to consul. If not configured, the value of `spring.application.name` will be taken by default.\n# host: Consul server host, the default value is localhost.\n# port: Consul server port, the default value is 8500.\n"})}),"\n",(0,t.jsx)(n.h2,{id:"nacos-registry",children:"Nacos Registry"}),"\n",(0,t.jsx)(n.h4,{id:"soul-admin-4",children:"Soul-Admin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-server-nacos</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  register:\n    registerType: nacos\n    serverLists : localhost:8848\n    props:\n      nacosNameSpace: SoulRegisterCenter\n"})}),"\n",(0,t.jsx)(n.h4,{id:"soul-client-4",children:"Soul-Client"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add dependency in pom.xml (Default has been added):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"        <dependency>\n            <groupId>org.dromara</groupId>\n            <artifactId>soul-register-client-nacos</artifactId>\n            <version>${project.version}</version>\n        </dependency>\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the config in application.yml"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"soul:\n  client:\n    registerType: nacos\n    serverLists: localhost:8848\n    props:\n      contextPath: /http\n      appName: http\n      port: 8188  \n      isFull: false\n      nacosNameSpace: SoulRegisterCenter\n# registerType : register type, set etcd \n# serverList: when register type is etcd, add etcd address list\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through soul gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n# nacosNameSpace: nacos namespace\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);