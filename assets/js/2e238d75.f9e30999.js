"use strict";(globalThis.webpackChunkshenyu_website=globalThis.webpackChunkshenyu_website||[]).push([[23713],{26589(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"user-guide/property-config/register-center-access","title":"Application Client Access Config","description":"register center access","source":"@site/versioned_docs/version-2.6.1/user-guide/property-config/register-center-access.md","sourceDirName":"user-guide/property-config","slug":"/user-guide/property-config/register-center-access","permalink":"/docs/2.6.1/user-guide/property-config/register-center-access","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/shenyu-website/edit/main/versioned_docs/version-2.6.1/user-guide/property-config/register-center-access.md","tags":[],"version":"2.6.1","frontMatter":{"title":"Application Client Access Config","keywords":["register center"],"description":"register center access"},"sidebar":"tutorialSidebar","previous":{"title":"Gateway Property Config","permalink":"/docs/2.6.1/user-guide/property-config/gateway-property-config"},"next":{"title":"Register Center Instance Config","permalink":"/docs/2.6.1/user-guide/property-config/register-center-instance"}}');var s=n(74848),i=n(28453);const o={title:"Application Client Access Config",keywords:["register center"],description:"register center access"},c=void 0,a={},p=[{value:"Http Registry Config",id:"http-registry-config",level:3},{value:"shenyu-admin config",id:"shenyu-admin-config",level:4},{value:"shenyu-client config",id:"shenyu-client-config",level:4},{value:"Register different type API at same time",id:"register-different-type-api-at-same-time",level:3}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:"Notice"}),"\nAfter ShenYu version 2.6.1, the ShenYu register just support http type, and the middleware register type has been removed.\nSo, please use the http register type to register your service.\nShenYu Register Center isn't microservice register center, it just register metadata, selector data, rule data to shenyu-admin, and then shenyu-admin will sync data to shenyu-gateway."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Application client access means to access your microservice to ShenYu gateway, currently supports HTTP, Dubbo, Spring Cloud, gRPC, Motan, Sofa, Tars and other protocols access. Currently, ShenYu just support HTTP register type."}),"\n",(0,s.jsxs)(t.p,{children:["This article describes how to configure the application client to access the Apache ShenYu gateway. For related principles, see ",(0,s.jsx)(t.a,{href:"../../design/register-center-design",children:"Application Client Access"})," in the design document ."]}),"\n",(0,s.jsx)("img",{src:"/img/shenyu/register/app-client-access-config-en.png",width:"70%",height:"60%"}),"\n",(0,s.jsx)(t.h3,{id:"http-registry-config",children:"Http Registry Config"}),"\n",(0,s.jsx)(t.h4,{id:"shenyu-admin-config",children:"shenyu-admin config"}),"\n",(0,s.jsxs)(t.p,{children:["Set the register type to '",(0,s.jsx)(t.code,{children:"Http"})," in the ",(0,s.jsx)(t.code,{children:"yml"})," file. The configuration information is as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: http\n    props:\n      \tchecked: true  # is checked\n      \tzombieCheckTimes: 5 # how many times does it fail to detect the service\n      \tscheduledTime: 10 # timed detection interval time\n"})}),"\n",(0,s.jsx)("img",{src:"/img/shenyu/register/register-http-admin-yml.png",width:"70%",height:"60%"}),"\n",(0,s.jsx)(t.h4,{id:"shenyu-client-config",children:"shenyu-client config"}),"\n",(0,s.jsxs)(t.p,{children:["The following shows the configuration information registered through ",(0,s.jsx)(t.code,{children:"Http"})," when the ",(0,s.jsx)(t.code,{children:"Http"})," service accesses the ",(0,s.jsx)(t.code,{children:"Apache ShenYu"})," gateway as a client. Other clients (such as ",(0,s.jsx)(t.code,{children:"Dubbo"})," and ",(0,s.jsx)(t.code,{children:"Spring Cloud"}),") can be configured in the same way."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: http\n    serverLists: http://localhost:9095\n    props:\n      username: admin\n      password: 123456\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8188  \n      \t\tisFull: false\n# registerType : register type, set http\n# serverList: when register type is http\uff0cset shenyu-admin address list\uff0cpls note 'http://' is necessary.\n# port: your project port number; apply to springmvc/tars/grpc\n# contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# appName\uff1ayour project name,the default value is`spring.application.name`.\n# isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n"})}),"\n",(0,s.jsx)("img",{src:"/img/shenyu/register/register-http-client-yml.jpg",width:"70%",height:"60%"}),"\n",(0,s.jsx)(t.h3,{id:"register-different-type-api-at-same-time",children:"Register different type API at same time"}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"follow example use the http and dubbo."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["the ",(0,s.jsx)(t.code,{children:"yml"})," configuration like follow:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"shenyu:\n  register:\n    registerType: http\n    serverLists: localhost:9195\n    props:\n      username: admin\n      password: 123456\n  client:\n    http:\n    \tprops:\n      \t\tcontextPath: /http\n      \t\tappName: http\n      \t\tport: 8188  \n      \t\tisFull: false\n    dubbo:\n    \tprops:\n      \t\tcontextPath: /dubbo\n      \t\tappName: dubbo\n      \t\tport: 28080\n    props:\n      nacosNameSpace: ShenyuRegisterCenter\n# registerType : register type, set nacos \n# serverList: when register type is nacos, add nacos address list\n# http.port: your project port number; apply to springmvc\n# http.contextPath: your project's route prefix through shenyu gateway, such as /order \uff0c/product etc\uff0cgateway will route based on it.\n# http.appName\uff1ayour project name,the default value is`spring.application.name`.\n# http.isFull: set true means providing proxy for your entire service, or only a few controller. apply to springmvc/springcloud\n# dubbo.contextPath: your project dubbo service's context path\n# dubbo.port: your project dubbo rpc port\n# dubbo.appName: your project dubbo application name\n# nacosNameSpace: nacos namespace\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In conclusion, this paper mainly describes how to connect your microservices (currently supporting ",(0,s.jsx)(t.code,{children:"Http"}),", ",(0,s.jsx)(t.code,{children:"Dubbo"}),", ",(0,s.jsx)(t.code,{children:"Spring Cloud"}),", ",(0,s.jsx)(t.code,{children:"gRPC"}),", ",(0,s.jsx)(t.code,{children:"Motan"}),", ",(0,s.jsx)(t.code,{children:"Sofa"}),", ",(0,s.jsx)(t.code,{children:"Tars"})," and other protocols) to the ",(0,s.jsx)(t.code,{children:"Apache ShenYu"})," gateway. the Apache ShenYu gateway support registry has ",(0,s.jsx)(t.code,{children:"Http"})," This paper introduces the different ways to register configuration information when ",(0,s.jsx)(t.code,{children:"Http"})," service is used as the client to access ",(0,s.jsx)(t.code,{children:"Apache ShenYu"})," gateway."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453(e,t,n){n.d(t,{R:()=>o,x:()=>c});var r=n(96540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);